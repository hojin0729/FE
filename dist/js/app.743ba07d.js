(function(){"use strict";var e={3383:function(e,t,a){var o=a(5130),i=a(6768);const r={id:"app"};function s(e,t,a,o,s,n){const l=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",r,[t[0]||(t[0]=(0,i.Lk)("nav",null,null,-1)),(0,i.bF)(l)])}var n={name:"App"},l=a(1241);const c=(0,l.A)(n,[["render",s]]);var u=c,d=a(1387),m=(a(4114),a(4232)),h=a.p+"media/bank.1df95cb6.mp4",k=a.p+"img/title.cbaa4b3c.png";const p={class:"home-container"},g={class:"video-container"},L={class:"center-message"},z={class:"content"},v={class:"features-container"};function b(e,t,a,o,r,s){const n=(0,i.g2)("AppHeader");return(0,i.uX)(),(0,i.CE)("div",p,[(0,i.Lk)("div",g,[t[3]||(t[3]=(0,i.Lk)("video",{autoplay:"",muted:"",loop:"",playsinline:"",class:"background-video"},[(0,i.Lk)("source",{src:h,type:"video/mp4"}),(0,i.eW)(" Your browser does not support the video tag. ")],-1)),(0,i.bF)(n),t[4]||(t[4]=(0,i.Lk)("div",{class:"overlay"},null,-1)),(0,i.Lk)("div",L,(0,m.v_)(o.currentMessage),1),t[5]||(t[5]=(0,i.Lk)("div",{class:"scroll-indicator"},[(0,i.Lk)("div",{class:"arrow"},"   >")],-1))]),(0,i.Lk)("div",z,[t[9]||(t[9]=(0,i.Lk)("div",{class:"title-container"},[(0,i.Lk)("img",{src:k,alt:"돈 기브 업!",class:"title-image"})],-1)),(0,i.Lk)("div",v,[(0,i.Lk)("div",{class:"feature-card quiz",onClick:t[0]||(t[0]=t=>e.$router.push("/quizboard"))},t[6]||(t[6]=[(0,i.Lk)("div",{class:"icon-container"},"하나!",-1),(0,i.Lk)("h2",null,"퀴즈 게시판",-1),(0,i.Lk)("p",null,"선생님들이 직접 만드는 교육 퀴즈",-1),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,"다양한 주제의 퀴즈 제작"),(0,i.Lk)("li",null,"학습 자료 공유"),(0,i.Lk)("li",null,"퀴즈 피드백과 토론")],-1)])),(0,i.Lk)("div",{class:"feature-card community",onClick:t[1]||(t[1]=t=>e.$router.push("/articles"))},t[7]||(t[7]=[(0,i.Lk)("div",{class:"icon-container"},"둘!",-1),(0,i.Lk)("h2",null,"자유 게시판",-1),(0,i.Lk)("p",null,"교육자들을 위한 소통 공간",-1),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,"교육 경험 공유"),(0,i.Lk)("li",null,"교수법 토론"),(0,i.Lk)("li",null,"자유로운 의견 교환")],-1)])),(0,i.Lk)("div",{class:"feature-card classroom",onClick:t[2]||(t[2]=t=>e.$router.push("/mypage"))},t[8]||(t[8]=[(0,i.Lk)("div",{class:"icon-container"},"셋!",-1),(0,i.Lk)("h2",null,"마이 페이지",-1),(0,i.Lk)("p",null,"나만의 학습방 만들기",-1),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,"맞춤형 퀴즈방 생성"),(0,i.Lk)("li",null,"원하는 퀴즈 선택 및 구성"),(0,i.Lk)("li",null,"학생들의 학습 진행 관리")],-1)]))])])])}var C=a(144),A=a.p+"img/image.e5b39635.png";const f={class:"app-header"},q={class:"nav-bar"},y={key:1};function w(e,t,a,r,s,n){return(0,i.uX)(),(0,i.CE)("header",f,[(0,i.Lk)("img",{src:A,alt:"Header Image",class:"header-image",onClick:t[0]||(t[0]=(...e)=>r.goToHome&&r.goToHome(...e))}),(0,i.Lk)("nav",q,[(0,i.Lk)("ul",null,[r.isLoggedIn?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("li",null,[(0,i.Lk)("a",{href:"/mypage",onClick:t[1]||(t[1]=(0,o.D$)(((...e)=>r.goToMyPage&&r.goToMyPage(...e)),["prevent"]))},"마이페이지")]),(0,i.Lk)("li",null,[(0,i.Lk)("a",{href:"#",onClick:t[2]||(t[2]=(0,o.D$)(((...e)=>r.logout&&r.logout(...e)),["prevent"]))},"로그아웃")])],64)):((0,i.uX)(),(0,i.CE)("li",y,[(0,i.Lk)("a",{href:"/login",onClick:t[3]||(t[3]=(0,o.D$)(((...e)=>r.navigateToLogin&&r.navigateToLogin(...e)),["prevent"]))},"로그인")]))])])])}var _={name:"AppHeader",setup(){const e=(0,C.KR)(!1),t=(0,d.rd)();function a(){t.push({path:"/"})}function o(){t.push("/mypage")}function r(){t.push("/login")}function s(){localStorage.removeItem("jwtToken"),localStorage.removeItem("memberId"),localStorage.removeItem("memberNickname"),e.value=!1,t.push("/login")}return(0,i.sV)((()=>{e.value=!!localStorage.getItem("jwtToken")})),{isLoggedIn:e,goToHome:a,goToMyPage:o,logout:s,navigateToLogin:r}}};const I=(0,l.A)(_,[["render",w],["__scopeId","data-v-43b59506"]]);var E=I,P={name:"HomePage",components:{AppHeader:E},setup(){const e=["지식을 넓히고 도전하세요!","자유 게시판에서 함께 소통하세요!","나만의 학습방을 완성해보세요!","교육 퀴즈로 재미있게 배우세요!"],t=(0,C.KR)(0),a=(0,i.EW)((()=>e[t.value]));let o=null;return(0,i.sV)((()=>{o=setInterval((()=>{t.value=(t.value+1)%e.length}),4e3)})),(0,i.xo)((()=>{clearInterval(o)})),{currentMessage:a}}};const S=(0,l.A)(P,[["render",b],["__scopeId","data-v-15189e0e"]]);var $=S;const Q={class:"container"},U={class:"quiz-form"},B={class:"form-group"},T={class:"form-group"},N={class:"form-group"},D={class:"form-group"},V={class:"form-group"},R={class:"form-group"},F={class:"input-wrapper"},M={class:"char-count"};function G(e,t,a,r,s,n){const l=(0,i.g2)("AppHeader"),c=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",Q,[(0,i.bF)(l),(0,i.Lk)("div",U,[t[17]||(t[17]=(0,i.Lk)("h2",null,"문제 생성",-1)),(0,i.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,i.Lk)("div",B,[t[8]||(t[8]=(0,i.Lk)("label",{for:"category"},"카테고리:",-1)),(0,i.bo)((0,i.Lk)("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=e=>s.quiz.quizCategory=e),required:""},t[7]||(t[7]=[(0,i.Fv)('<option disabled value="" data-v-2b144194>카테고리를 선택하세요</option><option value="용돈관리" data-v-2b144194>용돈관리</option><option value="화폐" data-v-2b144194>화폐</option><option value="신용과 위험관리" data-v-2b144194>신용과 위험관리</option><option value="개인정보보호와 금융사기 예방" data-v-2b144194>개인정보보호와 금융사기 예방</option><option value="금융회사" data-v-2b144194>금융회사</option><option value="화폐와 환율" data-v-2b144194>화폐와 환율</option><option value="현명한 소비" data-v-2b144194>현명한 소비</option><option value="신용과 부채관리" data-v-2b144194>신용과 부채관리</option><option value="저축" data-v-2b144194>저축</option><option value="위험관리와 보험" data-v-2b144194>위험관리 보험</option><option value="금융시사" data-v-2b144194>금융시사</option><option value="금융권 진로탐색" data-v-2b144194>금융권 진로탐색</option><option value="AI Quiz" data-v-2b144194>경제 뉴스</option><option value="AI Quiz" data-v-2b144194>금융 뉴스</option>',15)]),512),[[o.u1,s.quiz.quizCategory]])]),(0,i.Lk)("div",T,[t[9]||(t[9]=(0,i.Lk)("label",{for:"quiz"},"퀴즈 제목:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"quiz","onUpdate:modelValue":t[1]||(t[1]=e=>s.quiz.quizTitle=e),required:""},null,512),[[o.Jo,s.quiz.quizTitle]])]),(0,i.Lk)("div",N,[t[10]||(t[10]=(0,i.Lk)("label",{for:"type"},"타입:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"type","onUpdate:modelValue":t[2]||(t[2]=e=>s.quiz.quizType=e),value:"O/X",readonly:""},null,512),[[o.Jo,s.quiz.quizType]])]),(0,i.Lk)("div",D,[t[12]||(t[12]=(0,i.Lk)("label",{for:"level"},"난이도:",-1)),(0,i.bo)((0,i.Lk)("select",{id:"level","onUpdate:modelValue":t[3]||(t[3]=e=>s.quiz.quizLevel=e),required:""},t[11]||(t[11]=[(0,i.Lk)("option",{value:"easy"},"Easy",-1),(0,i.Lk)("option",{value:"normal"},"Normal",-1),(0,i.Lk)("option",{value:"hard"},"Hard",-1)]),512),[[o.u1,s.quiz.quizLevel]])]),(0,i.Lk)("div",V,[t[14]||(t[14]=(0,i.Lk)("label",{for:"answer"},"정답:",-1)),(0,i.bo)((0,i.Lk)("select",{id:"answer","onUpdate:modelValue":t[4]||(t[4]=e=>s.quiz.quizAnswer=e),required:""},t[13]||(t[13]=[(0,i.Lk)("option",{disabled:"",value:""},"정답을 선택하세요",-1),(0,i.Lk)("option",{value:"O"},"O",-1),(0,i.Lk)("option",{value:"X"},"X",-1)]),512),[[o.u1,s.quiz.quizAnswer]])]),(0,i.Lk)("div",R,[t[15]||(t[15]=(0,i.Lk)("label",{for:"description"},"해설:",-1)),(0,i.Lk)("div",F,[(0,i.bo)((0,i.Lk)("textarea",{id:"description","onUpdate:modelValue":t[5]||(t[5]=e=>s.quiz.quizDescription=e),required:"",maxlength:"500"},null,512),[[o.Jo,s.quiz.quizDescription]]),(0,i.Lk)("span",M,(0,m.v_)(s.quiz.quizDescription.length)+"/500자",1)])]),t[16]||(t[16]=(0,i.Lk)("div",{class:"button-container"},[(0,i.Lk)("button",{type:"submit"},"퀴즈 생성")],-1))],32)]),(0,i.bF)(c)])}const X={class:"app-footer"};function O(e,t,a,o,r,s){return(0,i.uX)(),(0,i.CE)("footer",X,t[0]||(t[0]=[(0,i.Lk)("p",null,"© 2024 Quiz Creator. All rights reserved.",-1)]))}var x={name:"AppFooter"};const K=(0,l.A)(x,[["render",O],["__scopeId","data-v-9eefe736"]]);var j=K,H=a(4373),J={components:{AppHeader:E,AppFooter:j},data(){return{quiz:{memberId:localStorage.getItem("memberId"),quizCategory:"",quizTitle:"",quizType:"O / X",quizAnswer:"",quizDescription:"",quizLevel:"normal"}}},methods:{async submitForm(){try{const e=localStorage.getItem("jwtToken");if(!e)return alert("로그인이 필요합니다."),void this.$router.push("/login");const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await H.A.post(t+"/api/v1/quizs",this.quiz,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),this.$router.push("/quizboard")}catch(e){console.error("Failed to create quiz:",e),alert("퀴즈 생성에 실패했습니다. 다시 시도해 주세요.")}}}};const W=(0,l.A)(J,[["render",G],["__scopeId","data-v-2b144194"]]);var Y=W,Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFbSURBVHgB7VW/S8NAFP4SHFwUp84R/ANcBAeX6D9wnZyE4lLEluofIElxcasiVdwEHXQ7cXCMbpUuRTK4NYM6lA7BH1BBEl9OhdTm2kNcWvLB5e69u/u+9y7cO2DYoSU5nSqzEGKDZqegghA+fY/NAt8cKOAcsIog/wOCAOWlIrfjvjH0RpOLuvmVI4xPZKCCznMLtdM8dB0lMu34nJ6wXhyLKrlYO5np2jtI4F+RCqQCqUBSqZDgtd2Ee7UjxrNsW/mmK2XwcHeJxsUWOi8t0WoneXj1c5Wt/TOIiti9sw//0f1x7QVfUZW8+pnIamZhtW82UgH/yRVH8vH+JkwEyJpFfh0Z9F40qNBb7eatEYkYc8symoT3oMrCuE3GjaYjZ65xr2vdITNItEJDFveb61xTykBEHaK8WOC7SZPfglkKyKbekpH0/mQNnmjEYUrIf0VsE8t0bN+I4RONI28qwHN8KgAAAABJRU5ErkJggg==";const ee={class:"quiz-board-page"},te={class:"content"},ae={class:"quiz-board"},oe={class:"search-area"},ie={class:"total-count"},re={class:"search-container"},se={class:"table-container"},ne={class:"quiz-table"},le={class:"bookmark-cell"},ce=["onClick"],ue={class:"id-cell"},de=["onClick"],me={class:"title-wrapper"},he={class:"title-text"},ke={class:"badges"},pe={class:"category-badge"},ge={class:"level-badge"},Le={class:"author-cell"},ze={class:"date-cell"},ve={class:"pagination-container"},be={class:"pagination"},Ce={class:"pagination-wrapper"},Ae={class:"pagination-buttons"},fe=["disabled"],qe={class:"page-numbers"},ye=["onClick"],we=["disabled"];function _e(e,t,a,r,s,n){const l=(0,i.g2)("AppHeader"),c=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",ee,[(0,i.bF)(l),(0,i.Lk)("div",te,[(0,i.Lk)("div",ae,[(0,i.Lk)("div",oe,[(0,i.Lk)("div",ie,"전체 "+(0,m.v_)(s.totalItems)+"건",1),(0,i.Lk)("div",re,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.searchType=e),class:"search-select"},t[7]||(t[7]=[(0,i.Lk)("option",{value:"all"},"전체",-1),(0,i.Lk)("option",{value:"title"},"제목",-1),(0,i.Lk)("option",{value:"category"},"카테고리",-1),(0,i.Lk)("option",{value:"level"},"난이도",-1)]),512),[[o.u1,s.searchType]]),(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.searchKeyword=e),class:"search-input",placeholder:"검색어를 입력하세요",onKeyup:t[2]||(t[2]=(0,o.jR)(((...e)=>n.handleSearch&&n.handleSearch(...e)),["enter"]))},null,544),[[o.Jo,s.searchKeyword]]),(0,i.Lk)("button",{class:"search-button",onClick:t[3]||(t[3]=(...e)=>n.handleSearch&&n.handleSearch(...e))},"검색")])]),(0,i.Lk)("div",se,[(0,i.Lk)("table",ne,[t[9]||(t[9]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",{style:{width:"5%"}}),(0,i.Lk)("th",null,"번호"),(0,i.Lk)("th",null,"제목"),(0,i.Lk)("th",null,"작성자"),(0,i.Lk)("th",null,"작성일")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.paginatedQuizList,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.quizId},[(0,i.Lk)("td",le,[(0,i.Lk)("img",{src:Z,class:(0,m.C4)(["bookmark-icon",{bookmarked:n.isBookmarked(e.quizId)}]),onClick:(0,o.D$)((t=>n.toggleBookmark(e.quizId)),["stop"]),alt:"bookmark"},null,10,ce)]),(0,i.Lk)("td",ue,(0,m.v_)(e.quizId),1),(0,i.Lk)("td",{class:"title-cell",onClick:t=>n.goToQuizDetail(e.quizId)},[(0,i.Lk)("div",me,[(0,i.Lk)("span",he,(0,m.v_)(e.quizTitle),1),(0,i.Lk)("span",ke,[(0,i.Lk)("span",pe,(0,m.v_)(e.quizCategory),1),(0,i.Lk)("span",ge,(0,m.v_)(e.quizLevel),1)])])],8,de),(0,i.Lk)("td",Le,(0,m.v_)(e.memberNickname),1),(0,i.Lk)("td",ze,(0,m.v_)(n.formatDate(e.date)),1)])))),128)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.emptyRows,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:`empty-${e}`,class:"empty-row"},t[8]||(t[8]=[(0,i.Lk)("td",{colspan:"5"}," ",-1)]))))),128))])]),(0,i.Lk)("div",ve,[(0,i.Lk)("div",be,[(0,i.Lk)("div",Ce,[(0,i.Lk)("div",Ae,[(0,i.Lk)("button",{class:"nav-btn prev",onClick:t[4]||(t[4]=(...e)=>n.prevPage&&n.prevPage(...e)),disabled:1===s.currentPage}," < ",8,fe),(0,i.Lk)("div",qe,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.getDisplayedPages(),(e=>((0,i.uX)(),(0,i.CE)("button",{key:e,class:(0,m.C4)(["page-num",{active:s.currentPage===e}]),onClick:t=>n.goToPage(e)},(0,m.v_)(e),11,ye)))),128))]),(0,i.Lk)("button",{class:"nav-btn next",onClick:t[5]||(t[5]=(...e)=>n.nextPage&&n.nextPage(...e)),disabled:s.currentPage===n.totalPages}," > ",8,we)])])]),(0,i.Lk)("button",{class:"create-quiz-button search-button",onClick:t[6]||(t[6]=(...e)=>n.createQuiz&&n.createQuiz(...e))},"퀴즈 생성")])])])]),(0,i.bF)(c)])}a(8992),a(4520),a(2577),a(7550);var Ie={name:"QuizBoard",components:{AppHeader:E,AppFooter:j},data(){return{quizList:[],currentPage:1,itemsPerPage:10,totalItems:0,searchType:"all",searchKeyword:"",bookmarks:[]}},computed:{paginatedQuizList(){return this.quizList},totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)},emptyRows(){const e=this.itemsPerPage-this.paginatedQuizList.length;return e>0?e:0}},methods:{async fetchQuizList(){const e=localStorage.getItem("jwtToken");if(e)try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a={page:this.currentPage-1,size:this.itemsPerPage};this.searchKeyword?.trim()&&(a.searchType=this.searchType,a.searchKeyword=this.searchKeyword);const o=await H.A.get(`${t}/api/v1/quizs/all`,{params:a,headers:{Authorization:`Bearer ${e}`}});this.quizList=o.data.content,this.totalItems=o.data.totalElements}catch(t){console.error("퀴즈 목록 조회 실패:",t),alert("퀴즈 목록을 불러오는 데 실패했습니다.")}else console.error("Token is missing")},createQuiz(){this.$router.push("/quizform")},goToQuizDetail(e){this.$router.push(`/quiz/${e}`)},formatDate(e){if(!e)return"";try{if(e instanceof Date)return e.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,"-").replace(".","");if(Array.isArray(e)){const t=new Date(e[0],e[1]-1,e[2]);return t.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,"-").replace(".","")}return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,"-").replace(".","")}catch(t){return console.error("날짜 변환 실패:",t,e),""}},getDisplayedPages(){const e=this.totalPages,t=this.currentPage;return e<=5?Array.from({length:e},((e,t)=>t+1)):t<=3?[1,2,3,4,5]:t>=e-2?[e-4,e-3,e-2,e-1,e]:[t-2,t-1,t,t+1,t+2]},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchQuizList())},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchQuizList())},async goToPage(e){this.currentPage=e,await this.fetchQuizList()},async goToFirstPage(){this.currentPage=1,await this.fetchQuizList()},async goToLastPage(){this.currentPage=this.totalPages,await this.fetchQuizList()},async handleSearch(){this.currentPage=1,await this.fetchQuizList()},async fetchBookmarks(){const e=localStorage.getItem("jwtToken"),t=localStorage.getItem("memberId");if(e&&t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,o=await H.A.get(`${a}/api/v1/bookmarks/member/${t}`,{headers:{Authorization:`Bearer ${e}`}});this.bookmarks=o.data}catch(a){console.error("북마크 목록 조회 실패:",a)}},isBookmarked(e){return this.bookmarks.some((t=>t.quizId===e))||"true"===localStorage.getItem(`bookmark_${e}`)},async toggleBookmark(e){const t=localStorage.getItem("jwtToken"),a=localStorage.getItem("memberId");if(t&&a)try{const o={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,i=this.bookmarks.find((t=>t.quizId===e));if(i)await H.A.delete(`${o}/api/v1/bookmarks/${i.bookmarkId}`,{headers:{Authorization:`Bearer ${t}`}}),this.bookmarks=this.bookmarks.filter((e=>e.bookmarkId!==i.bookmarkId)),localStorage.removeItem(`bookmark_${e}`);else{const i=await H.A.post(`${o}/api/v1/bookmarks`,{memberId:Number(a),quizId:Number(e)},{headers:{Authorization:`Bearer ${t}`}});i.data&&(this.bookmarks.push(i.data),localStorage.setItem(`bookmark_${e}`,"true"))}}catch(o){console.error("북마크 처리 실패:",o),alert("북마크 처리에 실패했습니다.")}else alert("로그인이 필요한 서비스입니다.")}},watch:{searchType:{handler(){this.currentPage=1,this.fetchQuizList()}},searchKeyword:{handler(){this.currentPage=1,this.fetchQuizList()}}},async mounted(){await this.fetchQuizList(),await this.fetchBookmarks()}};const Ee=(0,l.A)(Ie,[["render",_e],["__scopeId","data-v-457436ea"]]);var Pe=Ee;const Se={class:"quiz-detail-page"},$e={class:"content"},Qe={class:"quiz-detail"},Ue={class:"quiz-info"},Be={class:"quiz-header"},Te={class:"quiz-meta"},Ne={class:"category-badge"},De={class:"level-badge"},Ve={class:"author"},Re={class:"date"},Fe={class:"title-wrapper"},Me={class:"quiz-content"},Ge={class:"quiz-description"},Xe={class:"quiz-answer"},Oe={class:"comments-section"},xe={class:"comment-form"},Ke={class:"comment-form-footer"},je={class:"char-count"},He={class:"comments-list"},Je={class:"comment-header"},We={class:"comment-left"},Ye={class:"comment-author"},Ze={class:"comment-date"},et={key:0,class:"comment-actions"},tt=["onClick"],at=["onClick"],ot={key:0,class:"edit-form"},it=["onUpdate:modelValue"],rt={class:"edit-form-footer"},st={class:"char-count"},nt={class:"edit-buttons"},lt=["onClick"],ct=["onClick"],ut={key:1,class:"comment-content"};function dt(e,t,a,r,s,n){const l=(0,i.g2)("AppHeader"),c=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",Se,[(0,i.bF)(l),(0,i.Lk)("div",$e,[(0,i.Lk)("div",Qe,[(0,i.Lk)("div",Ue,[(0,i.Lk)("div",Be,[(0,i.Lk)("div",Te,[(0,i.Lk)("span",Ne,(0,m.v_)(s.quiz.quizCategory),1),(0,i.Lk)("span",De,(0,m.v_)(s.quiz.quizLevel),1),(0,i.Lk)("span",Ve,"작성자: "+(0,m.v_)(s.quiz.memberNickname),1),(0,i.Lk)("span",Re,"작성일: "+(0,m.v_)(n.formatDate(s.quiz.date)),1),(0,i.Lk)("img",{src:Z,class:(0,m.C4)(["bookmark-icon",{bookmarked:n.isBookmarked(s.quiz.quizId)}]),onClick:t[0]||(t[0]=(0,o.D$)((e=>n.toggleBookmark(s.quiz.quizId)),["stop"])),alt:"bookmark"},null,2)]),(0,i.Lk)("div",Fe,[(0,i.Lk)("h2",null,(0,m.v_)(s.quiz.quizTitle),1)]),t[3]||(t[3]=(0,i.Lk)("hr",{class:"divider"},null,-1))]),(0,i.Lk)("div",Me,[(0,i.Lk)("div",Ge,[t[4]||(t[4]=(0,i.Lk)("h3",null,"문제 해설",-1)),(0,i.Lk)("p",null,(0,m.v_)(s.quiz.quizDescription),1)]),(0,i.Lk)("div",Xe,[t[5]||(t[5]=(0,i.Lk)("h3",null,"정답",-1)),(0,i.Lk)("p",null,(0,m.v_)(s.quiz.quizAnswer),1)])])]),(0,i.Lk)("div",Oe,[t[6]||(t[6]=(0,i.Lk)("h3",null,"댓글",-1)),(0,i.Lk)("div",xe,[(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.newComment=e),placeholder:"댓글을 작성해주세요",rows:"3",maxlength:"500"},null,512),[[o.Jo,s.newComment]]),(0,i.Lk)("div",Ke,[(0,i.Lk)("span",je,(0,m.v_)(s.newComment.length)+"/500자",1),(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.submitComment&&n.submitComment(...e)),class:"comment-submit"},"댓글 작성")])]),(0,i.Lk)("div",He,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.comments,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.quizCommentId,class:"comment"},[(0,i.Lk)("div",Je,[(0,i.Lk)("div",We,[(0,i.Lk)("span",Ye,(0,m.v_)(e.memberNickname),1),(0,i.Lk)("span",Ze,(0,m.v_)(n.formatDate(e.quizCommentCreatedAt)),1)]),e.memberNickname===s.memberNickname?((0,i.uX)(),(0,i.CE)("div",et,[e.isEditing?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t=>n.startEditing(e),class:"edit-btn"}," 수정 ",8,tt)),(0,i.Lk)("button",{onClick:t=>n.deleteComment(e.quizCommentId),class:"delete-btn"}," 삭제 ",8,at)])):(0,i.Q3)("",!0)]),e.isEditing?((0,i.uX)(),(0,i.CE)("div",ot,[(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t=>e.editContent=t,rows:"3",maxlength:"500"},null,8,it),[[o.Jo,e.editContent]]),(0,i.Lk)("div",rt,[(0,i.Lk)("span",st,(0,m.v_)(e.editContent.length)+"/500자",1),(0,i.Lk)("div",nt,[(0,i.Lk)("button",{onClick:t=>n.saveEdit(e),class:"save-btn"},"저장",8,lt),(0,i.Lk)("button",{onClick:t=>n.cancelEdit(e),class:"cancel-btn"},"취소",8,ct)])])])):((0,i.uX)(),(0,i.CE)("p",ut,(0,m.v_)(e.quizCommentContent),1))])))),128))])])])]),(0,i.bF)(c)])}a(3949),a(1454);var mt={name:"QuizDetailPage",components:{AppHeader:E,AppFooter:j},data(){return{quiz:{quizId:null,memberId:null,quizTitle:"",quizCategory:"",quizLevel:"",quizAnswer:"",quizDescription:"",memberNickname:"",date:null,count:0},comments:[],newComment:"",selectedAnswer:null,showResult:!1,currentUserId:null,memberNickname:localStorage.getItem("memberNickname")||"",memberId:localStorage.getItem("memberId")||"",bookmarks:[]}},methods:{async fetchQuizDetail(){const e=localStorage.getItem("jwtToken");if(!e)return console.error("로그인이 필요합니다."),void this.$router.push("/login");try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,o=await H.A.get(`${t}/api/v1/quizs/quiz/${a}`,{headers:{Authorization:`Bearer ${e}`}});console.log("백엔드 응답 데이터:",o.data),this.quiz={quizId:o.data.quizId,quizTitle:o.data.quizTitle,quizCategory:o.data.quizCategory,quizLevel:o.data.quizLevel,quizAnswer:o.data.quizAnswer,quizDescription:o.data.quizDescription,memberNickname:o.data.memberNickname,date:o.data.date,count:o.data.count||0},console.log("매핑된 퀴즈 데이터:",{"제목":this.quiz.quizTitle,"카테고리":this.quiz.quizCategory,"난이도":this.quiz.quizLevel,"작성자":this.quiz.memberNickname,"작성일":this.quiz.date,"원본데이터":o.data})}catch(t){console.error("퀴즈 상세 정보 조회 실패:",t),console.error("에러 응답:",t.response?.data),alert("퀴즈 정보를 불러오는 데 실패했습니다.")}},async fetchComments(){const e=localStorage.getItem("jwtToken");if(e)try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,o=await H.A.get(`${t}/api/v1/comments/quiz/${a}`,{headers:{Authorization:`Bearer ${e}`}});this.comments=o.data.map((e=>({...e,isEditing:!1,editContent:e.quizCommentContent})))}catch(t){console.error("댓글 조회 실패:",t)}},isCurrentUserComment(e){return e===this.memberId},async submitComment(){if(!this.newComment.trim())return void alert("댓글 내용을 입력해주세요.");const e=localStorage.getItem("jwtToken");if(!e)return alert("로그인이 필요합니다."),void this.$router.push("/login");try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id;await H.A.post(`${t}/api/v1/comments/quiz/${a}`,{memberId:this.memberId,quizCommentContent:this.newComment},{headers:{Authorization:`Bearer ${e}`}}),this.newComment="",await this.fetchComments()}catch(t){console.error("댓글 작성 실패:",t),alert("댓글 작성에 실패했습니다.")}},async deleteComment(e){if(!confirm("댓글을 삭제하시겠습니까?"))return;const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await H.A.delete(`${a}/api/v1/comments/${e}`,{headers:{Authorization:`Bearer ${t}`}}),await this.fetchComments()}catch(a){console.error("댓글 삭제 실패:",a),alert("댓글 삭제에 실패했습니다.")}},selectAnswer(e){this.selectedAnswer=e},submitAnswer(){this.showResult=!0},formatDate(e){if(!e)return"";try{if(Array.isArray(e)){const t=e[0],a=String(e[1]).padStart(2,"0"),o=String(e[2]).padStart(2,"0"),i=String(e[3]).padStart(2,"0"),r=String(e[4]).padStart(2,"0");return`${t}-${a}-${o} ${i}:${r}`}{const t=new Date(e),a=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}-${o}-${i} ${r}:${s}`}}catch(t){return console.error("날짜 변환 에러:",t,e),""}},startEditing(e){e.isEditing=!0,e.editContent=e.quizCommentContent},async saveEdit(e){if(!e.editContent.trim())return void alert("댓글 내용을 입력해주세요.");const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await H.A.put(`${a}/api/v1/comments/${e.quizCommentId}`,{memberId:this.memberId,quizCommentContent:e.editContent},{headers:{Authorization:`Bearer ${t}`}}),e.isEditing=!1,await this.fetchComments()}catch(a){console.error("댓글 수정 실패:",a),alert("댓글 수정에 실패했습니다.")}},cancelEdit(e){e.isEditing=!1,e.editContent=e.quizCommentContent},isBookmarked(e){return this.bookmarks.some((t=>t.quizId===e))||"true"===localStorage.getItem(`bookmark_${e}`)},async toggleBookmark(e){const t=localStorage.getItem("jwtToken"),a=localStorage.getItem("memberId");if(t&&a)try{const o={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,i=this.bookmarks.find((t=>t.quizId===e));if(i)await H.A.delete(`${o}/api/v1/bookmarks/${i.bookmarkId}`,{headers:{Authorization:`Bearer ${t}`}}),this.bookmarks=this.bookmarks.filter((e=>e.bookmarkId!==i.bookmarkId)),localStorage.removeItem(`bookmark_${e}`);else{const i=await H.A.post(`${o}/api/v1/bookmarks`,{memberId:Number(a),quizId:Number(e)},{headers:{Authorization:`Bearer ${t}`}});i.data&&(this.bookmarks.push(i.data),localStorage.setItem(`bookmark_${e}`,"true"))}}catch(o){console.error("북마크 처리 실패:",o),alert("북마크 처리에 실패했습니다.")}else alert("로그인이 필요한 서비스입니다.")},async fetchBookmarks(){const e=localStorage.getItem("jwtToken"),t=localStorage.getItem("memberId");if(e&&t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,o=await H.A.get(`${a}/api/v1/bookmarks/member/${t}`,{headers:{Authorization:`Bearer ${e}`}});this.bookmarks=o.data;for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.startsWith("bookmark_")&&localStorage.removeItem(t)}this.bookmarks.forEach((e=>{localStorage.setItem(`bookmark_${e.quizId}`,"true")}))}catch(a){console.error("북마크 목록 조회 실패:",a)}}},async mounted(){const e=localStorage.getItem("memberId");this.currentUserId=e?parseInt(e):null,await this.fetchQuizDetail(),await this.fetchComments(),await this.fetchBookmarks()}};const ht=(0,l.A)(mt,[["render",dt],["__scopeId","data-v-7c6eb119"]]);var kt=ht;const pt={class:"container"},gt={class:"login-form"},Lt={class:"login-content"},zt={class:"login-inputs"},vt={class:"input-row"},bt={class:"input-row"},Ct={class:"login-button-area"},At={class:"login-help"},ft={class:"right-links"};function qt(e,t,a,r,s,n){const l=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",pt,[(0,i.Lk)("div",gt,[(0,i.Lk)("div",Lt,[t[8]||(t[8]=(0,i.Lk)("div",{class:"logo-area"},[(0,i.Lk)("img",{src:A,alt:"DGU",class:"logo-image",width:"100",height:"100"})],-1)),(0,i.Lk)("div",zt,[(0,i.Lk)("div",vt,[(0,i.bo)((0,i.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.loginData.memberEmail=e),placeholder:"이메일",required:""},null,512),[[o.Jo,s.loginData.memberEmail]])]),(0,i.Lk)("div",bt,[(0,i.bo)((0,i.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.loginData.memberPassword=e),placeholder:"비밀번호",required:""},null,512),[[o.Jo,s.loginData.memberPassword]])]),(0,i.Lk)("div",Ct,[(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.submitLogin&&n.submitLogin(...e))},"로그인")]),(0,i.Lk)("div",At,[(0,i.Lk)("div",ft,[t[4]||(t[4]=(0,i.Lk)("a",{href:"#"},"비밀번호 찾기",-1)),t[5]||(t[5]=(0,i.Lk)("span",{class:"divider"},"|",-1)),t[6]||(t[6]=(0,i.Lk)("a",{href:"#"},"아이디 찾기",-1)),t[7]||(t[7]=(0,i.Lk)("span",{class:"divider"},"|",-1)),(0,i.bF)(l,{to:"/signup"},{default:(0,i.k6)((()=>t[3]||(t[3]=[(0,i.eW)("회원가입")]))),_:1})])])])])])])}var yt=a(5068),wt={name:"LoginForm",data(){return{loginData:{memberEmail:"",memberPassword:""}}},methods:{async submitLogin(){try{const e={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,t=await H.A.post(e+"/api/v1/members/login",this.loginData,{withCredentials:!0});console.log("Full response:",t.data);const a=t.data.token;if("string"!==typeof a)throw new Error("Token is not a valid string");const o=a.startsWith("Bearer ")?a.slice(7):a;if(!o)throw new Error("No token found in response");const i=(0,yt.s)(o),r=i.memberId,s=i.memberNickname;if(!r||!s)throw new Error("Required information not found in token");localStorage.setItem("jwtToken",o),localStorage.setItem("memberId",r),localStorage.setItem("memberNickname",s),this.$router.push("/")}catch(e){console.error("Login failed:",e),e.response&&e.response.data&&console.error("API Error Response:",e.response.data),alert("로그인에 실패했습니다. 이메일과 비밀번호를 확인하세요.")}}}};const _t=(0,l.A)(wt,[["render",qt],["__scopeId","data-v-4b597eda"]]);var It=_t;const Et={class:"container"},Pt={class:"signup-form"},St={class:"signup-content"},$t={class:"form-group"},Qt={class:"form-group"},Ut={class:"form-group"},Bt={class:"form-group"},Tt={class:"form-group"},Nt={class:"form-group"},Dt={class:"form-group"},Vt=["value"],Rt={class:"form-group"},Ft={class:"form-group"};function Mt(e,t,a,r,s,n){return(0,i.uX)(),(0,i.CE)("div",Et,[(0,i.Lk)("div",Pt,[(0,i.Lk)("div",St,[t[19]||(t[19]=(0,i.Lk)("div",{class:"logo-area"},[(0,i.Lk)("img",{src:A,alt:"DGU",class:"logo-image",width:"100",height:"100"})],-1)),t[20]||(t[20]=(0,i.Lk)("h2",null,null,-1)),(0,i.Lk)("form",{onSubmit:t[8]||(t[8]=(0,o.D$)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,i.Lk)("div",$t,[t[9]||(t[9]=(0,i.Lk)("label",{for:"email"},"이메일:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.member.memberEmail=e),required:""},null,512),[[o.Jo,s.member.memberEmail]])]),(0,i.Lk)("div",Qt,[t[10]||(t[10]=(0,i.Lk)("label",{for:"password"},"비밀번호:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.member.memberPassword=e),required:""},null,512),[[o.Jo,s.member.memberPassword]])]),(0,i.Lk)("div",Ut,[t[11]||(t[11]=(0,i.Lk)("label",{for:"name"},"이름:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>s.member.memberName=e),required:""},null,512),[[o.Jo,s.member.memberName]])]),(0,i.Lk)("div",Bt,[t[12]||(t[12]=(0,i.Lk)("label",{for:"school"},"학교:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"school","onUpdate:modelValue":t[3]||(t[3]=e=>s.member.memberSchool=e),required:""},null,512),[[o.Jo,s.member.memberSchool]])]),(0,i.Lk)("div",Tt,[t[13]||(t[13]=(0,i.Lk)("label",{for:"birthDay"},"생년월일:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"date",id:"birthDay","onUpdate:modelValue":t[4]||(t[4]=e=>s.member.memberBirthDay=e),required:""},null,512),[[o.Jo,s.member.memberBirthDay]])]),(0,i.Lk)("div",Nt,[t[14]||(t[14]=(0,i.Lk)("label",{for:"nickname"},"닉네임:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"nickname","onUpdate:modelValue":t[5]||(t[5]=e=>s.member.memberNickname=e),required:""},null,512),[[o.Jo,s.member.memberNickname]])]),(0,i.Lk)("div",Dt,[t[15]||(t[15]=(0,i.Lk)("label",{for:"role"},"역할:",-1)),(0,i.Lk)("input",{type:"text",id:"role",value:n.roleDisplay,readonly:"",class:"readonly-input"},null,8,Vt)]),(0,i.Lk)("div",Rt,[t[16]||(t[16]=(0,i.Lk)("label",{for:"grade"},"학년:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"number",id:"grade","onUpdate:modelValue":t[6]||(t[6]=e=>s.member.memberGrade=e),min:"1",max:"12",required:""},null,512),[[o.Jo,s.member.memberGrade]])]),(0,i.Lk)("div",Ft,[t[17]||(t[17]=(0,i.Lk)("label",{for:"class"},"반:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"number",id:"class","onUpdate:modelValue":t[7]||(t[7]=e=>s.member.memberClass=e),min:"1",required:""},null,512),[[o.Jo,s.member.memberClass]])]),t[18]||(t[18]=(0,i.Lk)("button",{type:"submit"},"회원가입",-1))],32)])])])}var Gt={name:"SignUpForm",data(){return{member:{memberEmail:"",memberPassword:"",memberName:"",memberSchool:"",memberBirthDay:"",memberNickname:"",memberRole:"TEACHER",memberGrade:null,memberClass:null}}},computed:{roleDisplay(){return"TEACHER"===this.member.memberRole?"선생님":this.member.memberRole}},methods:{async submitForm(){try{const e={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await H.A.post(e+"/api/v1/members/register",this.member),alert("회원가입이 완료되었습니다!"),this.$router.push("/login")}catch(e){console.error("Failed to sign up:",e),alert("회원가입에 실패했습니다. 다시 시도해 주세요.")}}}};const Xt=(0,l.A)(Gt,[["render",Mt],["__scopeId","data-v-78184ec0"]]);var Ot=Xt;const xt={class:"article-container"},Kt={class:"article-form-wrapper"},jt={class:"article-form"},Ht={class:"form-group"},Jt={class:"form-group"};function Wt(e,t,a,r,s,n){const l=(0,i.g2)("AppHeader"),c=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",xt,[(0,i.bF)(l),(0,i.Lk)("div",Kt,[(0,i.Lk)("div",jt,[t[4]||(t[4]=(0,i.Lk)("h2",null,"글 작성",-1)),(0,i.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"])),class:"article-form-content"},[(0,i.Lk)("div",Ht,[(0,i.bo)((0,i.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>s.article.articleTitle=e),required:"",placeholder:"제목을 입력하세요"},null,512),[[o.Jo,s.article.articleTitle]])]),(0,i.Lk)("div",Jt,[(0,i.bo)((0,i.Lk)("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>s.article.articleContents=e),required:"",placeholder:"내용을 입력하세요"},null,512),[[o.Jo,s.article.articleContents]])]),t[3]||(t[3]=(0,i.Lk)("div",{class:"button-container"},[(0,i.Lk)("button",{type:"submit"},"글 작성")],-1))],32)])]),(0,i.bF)(c)])}var Yt={name:"ArticleForm",components:{AppHeader:E,AppFooter:j},data(){return{article:{memberId:localStorage.getItem("memberId"),articleTitle:"",articleContents:""}}},methods:{async submitForm(){try{const e=localStorage.getItem("jwtToken");if(!e)return alert("로그인이 필요합니다."),void this.$router.push("/login");const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await H.A.post(t+"/api/v1/articles",this.article,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),this.$router.push("/articles")}catch(e){console.error("Failed to create article:",e),alert("글 작성에 실패했습니다. 다시 시도해 주세요.")}}}};const Zt=(0,l.A)(Yt,[["render",Wt],["__scopeId","data-v-ee29bafc"]]);var ea=Zt;const ta={class:"my-page"},aa={class:"content"},oa={class:"games-section"},ia={class:"games-header"},ra={class:"games-list"},sa={class:"game-header"},na={class:"game-title"},la={class:"quiz-list"},ca={class:"quiz-info"},ua={class:"quiz-title"},da={class:"quiz-badges"},ma={class:"category-badge"},ha={class:"level-badge"},ka=["onClick"],pa={class:"game-footer"},ga={class:"game-buttons"},La=["onClick"],za=["onClick"],va={key:0,class:"modal"},ba={class:"modal-content"},Ca={class:"search-area"},Aa={class:"search-container"},fa={class:"quiz-table"},qa=["onClick"],ya=["value"],wa=["onClick"],_a={class:"modal-buttons"},Ia=["disabled"],Ea={class:"pagination-buttons"},Pa=["disabled"],Sa={class:"page-info"},$a=["disabled"],Qa={key:0,class:"comments-modal"},Ua={class:"comments-list"},Ba={class:"comment-header"},Ta={class:"comment-left"},Na={class:"comment-author"},Da={class:"comment-date"},Va={class:"comment-content"},Ra={key:1,class:"modal"},Fa={class:"modal-content"},Ma={class:"search-area"},Ga={class:"search-container"},Xa={class:"quiz-table"},Oa=["checked"],xa=["onClick"],Ka=["value"],ja=["onClick"],Ha={class:"modal-buttons"},Ja=["disabled"],Wa={class:"pagination-buttons"},Ya=["disabled"],Za={class:"page-info"},eo=["disabled"],to={key:2,class:"modal"},ao={class:"modal-content"},oo={class:"game-form"},io={class:"form-group"},ro={class:"form-group"},so={class:"modal-buttons"},no=["disabled"],lo={key:3,class:"comments-modal"},co={class:"modal-content comments-content"},uo={class:"comments-list"},mo={class:"comment-header"},ho={class:"comment-author"},ko={class:"comment-date"},po={class:"comment-content"};function go(e,t,a,r,s,n){const l=(0,i.g2)("AppHeader"),c=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",ta,[(0,i.bF)(l),(0,i.Lk)("div",aa,[(0,i.Lk)("div",oa,[(0,i.Lk)("div",ia,[t[30]||(t[30]=(0,i.Lk)("h2",null,"내 게임 목록",-1)),(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.showAddGameModal&&n.showAddGameModal(...e)),class:"add-game-btn"}," 새 게임 만들기 ")]),(0,i.Lk)("div",ra,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.games,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.gameId,class:"game-card"},[(0,i.Lk)("div",sa,[(0,i.Lk)("h3",na,(0,m.v_)(e.gameName),1)]),(0,i.Lk)("div",la,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.quizzes,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.quizId,class:"quiz-item"},[(0,i.Lk)("div",ca,[(0,i.Lk)("span",ua,(0,m.v_)(t.quizTitle),1),(0,i.Lk)("div",da,[(0,i.Lk)("span",ma,(0,m.v_)(t.quizCategory),1),(0,i.Lk)("span",ha,(0,m.v_)(t.quizLevel),1)])]),(0,i.Lk)("button",{onClick:a=>n.removeQuizFromGame(e.gameId,t.quizId),class:"remove-btn"}," 제 ",8,ka)])))),128))]),(0,i.Lk)("div",pa,[(0,i.Lk)("div",ga,[(0,i.Lk)("button",{onClick:t=>n.showQuizListModal(e),class:"view-quiz-btn"}," 퀴즈 목록 보기 ",8,La),(0,i.Lk)("button",{onClick:t=>n.showAddQuizModal(e),class:"add-quiz-btn"}," 퀴즈 추가 ",8,za)])])])))),128))]),s.showQuizModal?((0,i.uX)(),(0,i.CE)("div",va,[(0,i.Lk)("div",ba,[t[36]||(t[36]=(0,i.Lk)("h3",null,"퀴즈 추가",-1)),(0,i.Lk)("div",Ca,[(0,i.Lk)("div",Aa,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.quizAddSearchType=e),class:"search-select"},t[31]||(t[31]=[(0,i.Lk)("option",{value:"all"},"전체",-1),(0,i.Lk)("option",{value:"title"},"제목",-1),(0,i.Lk)("option",{value:"category"},"카테고리",-1),(0,i.Lk)("option",{value:"level"},"난이도",-1)]),512),[[o.u1,s.quizAddSearchType]]),(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.quizAddSearchKeyword=e),class:"search-input",placeholder:"검색어를 입력하세요"},null,512),[[o.Jo,s.quizAddSearchKeyword]]),(0,i.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.handleQuizListSearch&&n.handleQuizListSearch(...e)),class:"search-button"},"검색")])]),(0,i.Lk)("div",fa,[(0,i.Lk)("table",null,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>n.selectAll=e)},null,512),[[o.lH,n.selectAll]])]),t[32]||(t[32]=(0,i.Lk)("th",null,"제목",-1)),t[33]||(t[33]=(0,i.Lk)("th",null,"카테고리",-1)),t[34]||(t[34]=(0,i.Lk)("th",null,"난이도",-1)),t[35]||(t[35]=(0,i.Lk)("th",null,"북마크",-1))])]),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.filteredAddQuizzes,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.quizId,class:(0,m.C4)(["quiz-row",{selected:s.selectedQuiz?.quizId===e.quizId}]),onClick:t=>n.selectQuizForComments(e)},[(0,i.Lk)("td",{onClick:t[6]||(t[6]=(0,o.D$)((()=>{}),["stop"]))},[(0,i.bo)((0,i.Lk)("input",{type:"checkbox",value:e,"onUpdate:modelValue":t[5]||(t[5]=e=>s.selectedQuizzes=e)},null,8,ya),[[o.lH,s.selectedQuizzes]])]),(0,i.Lk)("td",null,(0,m.v_)(e.quizTitle),1),(0,i.Lk)("td",null,(0,m.v_)(e.quizCategory),1),(0,i.Lk)("td",null,(0,m.v_)(e.quizLevel),1),(0,i.Lk)("td",{onClick:t[7]||(t[7]=(0,o.D$)((()=>{}),["stop"]))},[(0,i.Lk)("img",{src:Z,class:(0,m.C4)(["bookmark-icon",{bookmarked:n.isBookmarked(e.quizId)}]),onClick:t=>n.toggleBookmark(e.quizId),alt:"bookmark"},null,10,wa)])],10,qa)))),128))])])]),(0,i.Lk)("div",_a,[(0,i.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>n.addSelectedQuizzes&&n.addSelectedQuizzes(...e)),class:"add-selected-btn",disabled:!s.selectedQuizzes.length}," 선택한 퀴즈 추가 ("+(0,m.v_)(s.selectedQuizzes.length)+"개) ",9,Ia),(0,i.Lk)("div",Ea,[(0,i.Lk)("button",{class:"nav-btn prev",onClick:t[9]||(t[9]=(...e)=>n.prevPage&&n.prevPage(...e)),disabled:1===s.currentPage}," 이전 ",8,Pa),(0,i.Lk)("span",Sa,(0,m.v_)(s.currentPage)+" / "+(0,m.v_)(n.totalPages),1),(0,i.Lk)("button",{class:"nav-btn next",onClick:t[10]||(t[10]=(...e)=>n.nextPage&&n.nextPage(...e)),disabled:s.currentPage>=n.totalPages}," 다음 ",8,$a)]),(0,i.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>n.closeQuizModal&&n.closeQuizModal(...e)),class:"cancel-btn"},"닫기")])]),s.showCommentsModal?((0,i.uX)(),(0,i.CE)("div",Qa,[(0,i.Lk)("h3",null,(0,m.v_)(s.selectedQuiz?.quizTitle)+" 댓글",1),(0,i.Lk)("div",Ua,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.comments,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.quizCommentId,class:"comment"},[(0,i.Lk)("div",Ba,[(0,i.Lk)("div",Ta,[(0,i.Lk)("span",Na,(0,m.v_)(e.memberNickname),1),(0,i.Lk)("span",Da,(0,m.v_)(n.formatDate(e.quizCommentCreatedAt)),1)])]),(0,i.Lk)("p",Va,(0,m.v_)(e.quizCommentContent),1)])))),128))]),(0,i.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>n.closeCommentsModal&&n.closeCommentsModal(...e)),class:"close-btn"},"닫기")])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),s.showQuizListModalFlag?((0,i.uX)(),(0,i.CE)("div",Ra,[(0,i.Lk)("div",Fa,[t[42]||(t[42]=(0,i.Lk)("h3",null,"현재 게임의 퀴즈 목록",-1)),(0,i.Lk)("div",Ma,[(0,i.Lk)("div",Ga,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>s.quizListSearchType=e),class:"search-select"},t[37]||(t[37]=[(0,i.Lk)("option",{value:"all"},"전체",-1),(0,i.Lk)("option",{value:"title"},"제목",-1),(0,i.Lk)("option",{value:"category"},"카테고리",-1),(0,i.Lk)("option",{value:"level"},"난이도",-1)]),512),[[o.u1,s.quizListSearchType]]),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>s.quizListSearchKeyword=e),type:"text",placeholder:"퀴즈 검색",class:"search-input",onKeyup:t[15]||(t[15]=(0,o.jR)(((...e)=>n.handleQuizListSearch&&n.handleQuizListSearch(...e)),["enter"]))},null,544),[[o.Jo,s.quizListSearchKeyword]]),(0,i.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>n.handleQuizListSearch&&n.handleQuizListSearch(...e)),class:"search-button"},"검색")])]),(0,i.Lk)("div",Xa,[(0,i.Lk)("table",null,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,[(0,i.Lk)("input",{type:"checkbox",checked:n.selectAllCurrentQuizzes,onChange:t[17]||(t[17]=(...e)=>n.toggleSelectAllCurrentQuizzes&&n.toggleSelectAllCurrentQuizzes(...e))},null,40,Oa)]),t[38]||(t[38]=(0,i.Lk)("th",null,"제목",-1)),t[39]||(t[39]=(0,i.Lk)("th",null,"카테고리",-1)),t[40]||(t[40]=(0,i.Lk)("th",null,"난이도",-1)),t[41]||(t[41]=(0,i.Lk)("th",null,"북마크",-1))])]),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.paginatedCurrentGameQuizzes,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.teacherQuizId,class:(0,m.C4)(["quiz-row",{selected:s.selectedQuiz?.quizId===e.quizId}]),onClick:t=>n.selectQuizForComments(e)},[(0,i.Lk)("td",{onClick:t[19]||(t[19]=(0,o.D$)((()=>{}),["stop"]))},[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=e=>s.selectedCurrentQuizzes=e),value:e},null,8,Ka),[[o.lH,s.selectedCurrentQuizzes]])]),(0,i.Lk)("td",null,(0,m.v_)(e.quizTitle),1),(0,i.Lk)("td",null,(0,m.v_)(e.quizCategory),1),(0,i.Lk)("td",null,(0,m.v_)(e.quizLevel),1),(0,i.Lk)("td",{onClick:t[20]||(t[20]=(0,o.D$)((()=>{}),["stop"]))},[(0,i.Lk)("img",{src:Z,class:(0,m.C4)(["bookmark-icon",{bookmarked:n.isBookmarked(e.quizId)}]),onClick:t=>n.toggleBookmark(e.quizId),alt:"bookmark"},null,10,ja)])],10,xa)))),128))])])]),(0,i.Lk)("div",Ha,[(0,i.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>n.removeSelectedQuizzes&&n.removeSelectedQuizzes(...e)),class:"remove-selected-btn",disabled:!s.selectedCurrentQuizzes.length}," 선택한 퀴즈 삭제 ("+(0,m.v_)(s.selectedCurrentQuizzes.length)+"개) ",9,Ja),(0,i.Lk)("div",Wa,[(0,i.Lk)("button",{class:"nav-btn prev",onClick:t[22]||(t[22]=(...e)=>n.prevQuizListPage&&n.prevQuizListPage(...e)),disabled:1===s.quizListCurrentPage}," 이전 ",8,Ya),(0,i.Lk)("span",Za,(0,m.v_)(s.quizListCurrentPage)+" / "+(0,m.v_)(n.quizListTotalPages),1),(0,i.Lk)("button",{class:"nav-btn next",onClick:t[23]||(t[23]=(...e)=>n.nextQuizListPage&&n.nextQuizListPage(...e)),disabled:s.quizListCurrentPage>=n.quizListTotalPages}," 다음 ",8,eo)]),(0,i.Lk)("button",{onClick:t[24]||(t[24]=(...e)=>n.closeQuizListModal&&n.closeQuizListModal(...e)),class:"cancel-btn"},"닫기")])])])):(0,i.Q3)("",!0),s.showGameModal?((0,i.uX)(),(0,i.CE)("div",to,[(0,i.Lk)("div",ao,[t[45]||(t[45]=(0,i.Lk)("h3",null,"새 게임 만들기",-1)),(0,i.Lk)("div",oo,[(0,i.Lk)("div",io,[t[43]||(t[43]=(0,i.Lk)("label",null,"게임 이름",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[25]||(t[25]=e=>s.newGame.gameName=e),type:"text",placeholder:"게임 이름을 입력하세요",class:"form-input"},null,512),[[o.Jo,s.newGame.gameName]])]),(0,i.Lk)("div",ro,[t[44]||(t[44]=(0,i.Lk)("label",null,"비밀번호",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[26]||(t[26]=e=>s.newGame.gamePassword=e),type:"password",placeholder:"비밀번호를 입력하세요",class:"form-input"},null,512),[[o.Jo,s.newGame.gamePassword]])])]),(0,i.Lk)("div",so,[(0,i.Lk)("button",{onClick:t[27]||(t[27]=(...e)=>n.createGame&&n.createGame(...e)),class:"create-btn",disabled:!n.isValidGame}," 게임 만들기 ",8,no),(0,i.Lk)("button",{onClick:t[28]||(t[28]=(...e)=>n.closeGameModal&&n.closeGameModal(...e)),class:"cancel-btn"}," 취소 ")])])])):(0,i.Q3)("",!0),s.showCommentsModal?((0,i.uX)(),(0,i.CE)("div",lo,[(0,i.Lk)("div",co,[(0,i.Lk)("h3",null,(0,m.v_)(s.selectedQuiz?.quizTitle),1),(0,i.Lk)("div",uo,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.comments,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.quizCommentId,class:"comment"},[(0,i.Lk)("div",mo,[(0,i.Lk)("span",ho,(0,m.v_)(e.memberNickname),1),(0,i.Lk)("span",ko,(0,m.v_)(n.formatDate(e.quizCommentCreatedAt)),1)]),(0,i.Lk)("p",po,(0,m.v_)(e.quizCommentContent),1)])))),128))]),(0,i.Lk)("button",{onClick:t[29]||(t[29]=(...e)=>n.closeCommentsModal&&n.closeCommentsModal(...e)),class:"close-btn"},"닫기")])])):(0,i.Q3)("",!0)])]),(0,i.bF)(c)])}var Lo={name:"MyPage",components:{AppHeader:E,AppFooter:j},data(){return{games:[],quizList:[],showQuizModal:!1,currentGameId:null,searchType:"all",searchKeyword:"",selectedQuizzes:[],showQuizListModalFlag:!1,currentGameQuizzes:[],selectedCurrentQuizzes:[],currentGame:null,quizListSearchType:"all",quizListSearchKeyword:"",currentPage:1,itemsPerPage:10,totalItems:0,quizListCurrentPage:1,quizListItemsPerPage:10,showGameModal:!1,newGame:{gameName:"",gamePassword:""},quizAddSearchType:"all",quizAddSearchKeyword:"",quizAddCurrentPage:1,quizAddItemsPerPage:10,quizAddTotalItems:0,bookmarks:[],selectedQuiz:null,comments:[],memberNickname:localStorage.getItem("memberNickname")||"",showCommentsModal:!1}},computed:{filteredQuizzes(){if(!this.quizList)return[];if(!this.searchKeyword)return this.quizList;const e=this.searchKeyword.toLowerCase();return this.quizList.filter((t=>{if(!t)return!1;switch(this.searchType){case"title":return t.quizTitle?.toLowerCase().includes(e);case"category":return t.quizCategory?.toLowerCase().includes(e);case"level":return t.quizLevel?.toLowerCase().includes(e);case"all":return t.quizTitle?.toLowerCase().includes(e)||t.quizCategory?.toLowerCase().includes(e)||t.quizLevel?.toLowerCase().includes(e);default:return!0}}))},selectAll:{get(){return this.quizList.length>0&&this.selectedQuizzes.length===this.quizList.length},set(e){this.selectedQuizzes=e?[...this.quizList]:[]}},selectAllCurrentQuizzes:{get(){return this.currentGameQuizzes.length===this.selectedCurrentQuizzes.length},set(e){this.selectedCurrentQuizzes=e?[...this.currentGameQuizzes]:[]}},filteredCurrentGameQuizzes(){if(!this.currentGameQuizzes)return[];if(!this.quizListSearchKeyword)return this.currentGameQuizzes;const e=this.quizListSearchKeyword.toLowerCase();return this.currentGameQuizzes.filter((t=>{if(!t)return!1;switch(this.quizListSearchType){case"title":return t.quizTitle?.toLowerCase().includes(e);case"category":return t.quizCategory?.toLowerCase().includes(e);case"level":return t.quizLevel?.toLowerCase().includes(e);case"all":return t.quizTitle?.toLowerCase().includes(e)||t.quizCategory?.toLowerCase().includes(e)||t.quizLevel?.toLowerCase().includes(e);default:return!0}}))},paginatedQuizzes(){return this.quizList},totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)},paginatedCurrentGameQuizzes(){if(!this.filteredCurrentGameQuizzes)return[];const e=(this.quizListCurrentPage-1)*this.quizListItemsPerPage,t=e+this.quizListItemsPerPage;return this.filteredCurrentGameQuizzes.slice(e,t)},quizListTotalPages(){return Math.ceil(this.filteredCurrentGameQuizzes.length/this.quizListItemsPerPage)},pageDisplay(){return`${this.currentPage}/${this.totalPages}`},isValidGame(){return this.newGame.gameName&&this.newGame.gamePassword},quizAddTotalPages(){return Math.ceil(this.quizAddTotalItems/this.quizAddItemsPerPage)},filteredAddQuizzes(){if(!this.quizList)return[];if(!this.quizAddSearchKeyword)return this.quizList;const e=this.quizAddSearchKeyword.toLowerCase();return this.quizList.filter((t=>{if(!t)return!1;switch(this.quizAddSearchType){case"title":return t.quizTitle?.toLowerCase().includes(e);case"category":return t.quizCategory?.toLowerCase().includes(e);case"level":return t.quizLevel?.toLowerCase().includes(e);case"all":return t.quizTitle?.toLowerCase().includes(e)||t.quizCategory?.toLowerCase().includes(e)||t.quizLevel?.toLowerCase().includes(e);default:return!0}}))},paginatedAddQuizzes(){const e=(this.quizAddCurrentPage-1)*this.quizAddItemsPerPage,t=e+this.quizAddItemsPerPage;return this.filteredAddQuizzes.slice(e,t)}},methods:{async fetchMyGames(){const e=localStorage.getItem("jwtToken"),t=localStorage.getItem("memberId");if(!e||!t)return console.error("로그인이 필요합니다."),void this.$router.push("/login");try{const a=await H.A.get(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/games/member/${t}`,{headers:{Authorization:`Bearer ${e}`}});this.games=a.data}catch(a){console.error("게임 록 조회 실패:",a),alert("게임 목록을 오는데 실패했습니다.")}},async fetchQuizList(e=this.currentPage-1,t=this.itemsPerPage){const a=localStorage.getItem("jwtToken"),o={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;try{const i=await H.A.get(`${o}/api/v1/teacher-quizzes/be/game/${this.currentGameId}`,{headers:{Authorization:`Bearer ${a}`}}),r=i.data.map((e=>e.quizId)),s=await H.A.get(`${o}/api/v1/quizs/all`,{headers:{Authorization:`Bearer ${a}`},params:{page:0,size:9999}}),n=s.data.content.filter((e=>!r.includes(e.quizId))),l=e*t,c=l+t;this.quizList=n.slice(l,c).map((e=>({quizId:e.quizId,memberNickname:e.memberNickname||"알 수 없음",quizCategory:e.quizCategory,quizTitle:e.quizTitle,quizLevel:e.quizLevel,quizAnswer:e.quizAnswer,quizDescription:e.quizDescription,date:e.date,count:e.count||0})));const u=n.length;this.totalPages||(this.totalPages=Math.ceil(u/this.itemsPerPage)),this.totalItems=u}catch(i){console.error("퀴즈 목록 조회 실패:",i),alert("퀴즈 목록을 불러오는 데 실패했습니다.")}},async showAddQuizModal(e){this.currentGameId=e.gameId,this.currentGame=e,this.currentPage=1,this.selectedQuizzes=[],this.totalPages=null,await this.fetchCurrentGameQuizzes(),await this.fetchQuizList(0),this.showQuizModal=!0},async handleSearch(){this.currentPage=1,await this.fetchQuizList()},async selectQuiz(e){if(!confirm(`"${e.quizTitle}" 퀴즈를 게임에 추가하시겠습니까?`))return;const t=localStorage.getItem("jwtToken"),a=Number(localStorage.getItem("memberId"));try{const o={quizId:e.quizId,gameId:this.currentGameId,isStopped:0},i=await H.A.post(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/teacher-quizzes/member/${a}`,o,{headers:{Authorization:`Bearer ${t}`}});i.data&&(console.log("퀴즈 성으로 저장되었습니다:",i.data),await this.fetchMyGames(),this.closeQuizModal())}catch(o){console.error("퀴즈 추가 실패:",o),alert("퀴즈 추가에 실패습니다.")}},async removeQuizFromGame(e,t){if(!confirm("이 퀴즈를 게임에서 제거하시습니까?"))return;const a=localStorage.getItem("jwtToken");try{await H.A.delete(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/games/${e}/quizzes/${t}`,{headers:{Authorization:`Bearer ${a}`}}),await this.fetchMyGames(),alert("퀴즈가 제거되었습니다.")}catch(o){console.error("퀴즈 제거 실패:",o),alert("퀴즈 제거 실패했습니다.")}},toggleSelectAll(){this.selectAll=!this.selectAll},async addSelectedQuizzes(){if(!this.selectedQuizzes.length)return void alert("선택 퀴즈가 없습니다.");if(!confirm(`선택한 ${this.selectedQuizzes.length}개의 퀴즈를 추가하시겠습니까?`))return;const e=localStorage.getItem("jwtToken"),t=Number(localStorage.getItem("memberId"));try{for(const a of this.selectedQuizzes){const o={quizId:a.quizId,gameId:this.currentGameId,isStopped:0};await H.A.post(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/teacher-quizzes/member/${t}`,o,{headers:{Authorization:`Bearer ${e}`}})}await this.fetchMyGames(),this.closeQuizModal(),alert("선택한 퀴즈가 성공적로 추가되었습니다.")}catch(a){console.error("퀴즈 추가 실패:",a),alert("퀴즈 추가에 실패했습니다.")}},closeQuizModal(){this.showQuizModal=!1,this.showCommentsModal=!1,this.selectedQuiz=null,this.comments=[],this.selectedQuizzes=[],this.searchKeyword=""},toggleQuizSelection(e){const t=this.selectedQuizzes.findIndex((t=>t.quizId===e.quizId));-1===t?this.selectedQuizzes.push(e):this.selectedQuizzes.splice(t,1)},async showQuizListModal(e){const t=localStorage.getItem("jwtToken"),a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;try{const o=await H.A.get(`${a}/api/v1/teacher-quizzes/be/game/${e.gameId}`,{headers:{Authorization:`Bearer ${t}`}});console.log("TeacherQuiz 응답:",o.data);const i=await Promise.all(o.data.map((async e=>{try{const o=await H.A.get(`${a}/api/v1/quizs/${e.quizId}`,{headers:{Authorization:`Bearer ${t}`}}),i=o.data;return console.log("퀴즈 정보:",i),{teacherQuizId:e.teacherQuizId,quizId:e.quizId,gameId:e.gameId,isStopped:e.isStopped,quizTitle:i.quiz,quizCategory:i.category,quizLevel:i.level,quizType:i.type,quizAnswer:i.answer,quizDescription:i.desc,nickname:e.memberNickname,createdAt:i.createdAt||(new Date).toISOString()}}catch(o){return console.error(`퀴즈 정보 조회 실패 (ID: ${e.quizId}):`,o),null}})));this.currentGameQuizzes=i.filter((e=>null!==e)),this.currentGame=e,this.showQuizListModalFlag=!0}catch(o){console.error("퀴즈 목록 조회 실패:",o),alert("퀴즈 목록을 불러오는데 실패했습니다.")}},closeQuizListModal(){this.showQuizListModalFlag=!1,this.showCommentsModal=!1,this.selectedQuiz=null,this.comments=[],this.selectedCurrentQuizzes=[],this.currentGame=null,this.quizListSearchType="all",this.quizListSearchKeyword=""},toggleCurrentQuizSelection(e){const t=this.selectedCurrentQuizzes.findIndex((t=>t.quizId===e.quizId));-1===t?this.selectedCurrentQuizzes.push(e):this.selectedCurrentQuizzes.splice(t,1)},toggleSelectAllCurrentQuizzes(){this.selectAllCurrentQuizzes=!this.selectAllCurrentQuizzes},async removeSelectedQuizzes(){if(!this.selectedCurrentQuizzes.length)return void alert("선된 퀴즈가 없습니다.");if(!confirm(`선택한 ${this.selectedCurrentQuizzes.length}개의 퀴즈를 삭제하시겠습니까?`))return;const e=localStorage.getItem("jwtToken");try{for(const t of this.selectedCurrentQuizzes)await H.A.delete(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/teacher-quizzes/quiz/${t.teacherQuizId}`,{headers:{Authorization:`Bearer ${e}`}});await this.showQuizListModal(this.currentGame),this.selectedCurrentQuizzes=[],alert("선택한 퀴즈가 성공적으로 삭제되었습니다.")}catch(t){console.error("퀴즈 삭제 실패:",t),alert("퀴즈 삭제에 실패했습니다.")}},handleQuizListSearch(){},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchQuizList())},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchQuizList())},prevQuizListPage(){this.quizListCurrentPage>1&&this.quizListCurrentPage--},nextQuizListPage(){this.quizListCurrentPage<this.quizListTotalPages&&this.quizListCurrentPage++},async fetchAvailableQuizzes(e,t){try{const a=await H.A.get(`/api/v1/teacher-quizzes/member/${e}/game/${t}`);this.availableQuizzes=a.data}catch(a){console.error("퀴즈 목록 조회 실패:",a)}},async fetchCurrentGameQuizzes(){const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;try{const a=await H.A.get(`${t}/api/v1/teacher-quizzes/be/game/${this.currentGameId}`,{headers:{Authorization:`Bearer ${e}`}});this.currentGameQuizzes=a.data}catch(a){console.error("현재 게임의 퀴즈 목록 조회 실패:",a)}},showAddGameModal(){this.showGameModal=!0,this.newGame={gameName:"",gamePassword:""}},closeGameModal(){this.showGameModal=!1},async createGame(){const e=localStorage.getItem("jwtToken"),t=localStorage.getItem("memberId");try{const a=await H.A.post(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/games`,{memberId:Number(t),gameName:this.newGame.gameName,gamePassword:this.newGame.gamePassword},{headers:{Authorization:`Bearer ${e}`}});a.data&&(await this.fetchMyGames(),this.closeGameModal(),alert("게임이 성공적으로 생성되었습니다."))}catch(a){console.error("게임 생성 실패:",a),alert("게임 생성에 실패했습니다.")}},handleAddQuizSearch(){this.quizAddCurrentPage=1},prevAddQuizPage(){this.quizAddCurrentPage>1&&this.quizAddCurrentPage--},nextAddQuizPage(){this.quizAddCurrentPage<this.quizAddTotalPages&&this.quizAddCurrentPage++},isBookmarked(e){return this.bookmarks.some((t=>t.quizId===e))||"true"===localStorage.getItem(`bookmark_${e}`)},async toggleBookmark(e){const t=localStorage.getItem("jwtToken"),a=localStorage.getItem("memberId");if(t&&a)try{const o={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,i=this.bookmarks.find((t=>t.quizId===e));if(i)await H.A.delete(`${o}/api/v1/bookmarks/${i.bookmarkId}`,{headers:{Authorization:`Bearer ${t}`}}),this.bookmarks=this.bookmarks.filter((t=>t.quizId!==e)),localStorage.removeItem(`bookmark_${e}`);else{const i=await H.A.post(`${o}/api/v1/bookmarks`,{memberId:Number(a),quizId:Number(e)},{headers:{Authorization:`Bearer ${t}`}});i.data&&(this.bookmarks.push(i.data),localStorage.setItem(`bookmark_${e}`,"true"))}}catch(o){console.error("북마크 처리 실패:",o),alert("북마크 처리에 실패했습니다.")}},async fetchBookmarks(){const e=localStorage.getItem("jwtToken"),t=localStorage.getItem("memberId");if(e&&t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,o=await H.A.get(`${a}/api/v1/bookmarks/member/${t}`,{headers:{Authorization:`Bearer ${e}`}});this.bookmarks=o.data}catch(a){console.error("북마크 목록 조회 실패:",a)}},async selectQuizForComments(e){this.selectedQuiz=e,await this.fetchComments(e.quizId),this.showCommentsModal=!0},closeCommentsModal(){this.showCommentsModal=!1,this.selectedQuiz=null,this.comments=[]},async fetchComments(e){const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,o=await H.A.get(`${a}/api/v1/comments/quiz/${e}`,{headers:{Authorization:`Bearer ${t}`}});this.comments=o.data.map((e=>({...e,isEditing:!1,editContent:e.quizCommentContent})))}catch(a){console.error("댓글 조회 실패:",a)}},formatDate(e){if(!e)return"";try{if(Array.isArray(e)){const t=e[0],a=String(e[1]).padStart(2,"0"),o=String(e[2]).padStart(2,"0"),i=String(e[3]).padStart(2,"0"),r=String(e[4]).padStart(2,"0");return`${t}-${a}-${o} ${i}:${r}`}{const t=new Date(e),a=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}-${o}-${i} ${r}:${s}`}}catch(t){return console.error("날짜 변환 에러:",t,e),""}},sortQuizzesById(){this.paginatedCurrentGameQuizzes.sort(((e,t)=>t.quizId-e.quizId))}},mounted(){this.fetchMyGames(),this.fetchBookmarks()}};const zo=(0,l.A)(Lo,[["render",go],["__scopeId","data-v-4f14daac"]]);var vo=zo;const bo={class:"article-board-page"},Co={class:"content"},Ao={class:"forum-board"},fo={class:"search-area"},qo={class:"total-count"},yo={class:"search-container"},wo={class:"table-container"},_o={class:"forum-table"},Io={class:"id-cell"},Eo=["onClick"],Po={class:"title-wrapper"},So={class:"title-text"},$o={class:"author-cell"},Qo={class:"date-cell"},Uo={class:"pagination-container"},Bo={class:"pagination"},To={class:"pagination-wrapper"},No={class:"pagination-buttons"},Do=["disabled"],Vo={class:"page-numbers"},Ro=["onClick"],Fo=["disabled"];function Mo(e,t,a,r,s,n){const l=(0,i.g2)("AppHeader"),c=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",bo,[(0,i.bF)(l),(0,i.Lk)("div",Co,[(0,i.Lk)("div",Ao,[(0,i.Lk)("div",fo,[(0,i.Lk)("div",qo,"전체 "+(0,m.v_)(n.filteredList.length)+"건",1),(0,i.Lk)("div",yo,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.searchType=e),class:"search-select"},t[7]||(t[7]=[(0,i.Lk)("option",{value:"all"},"전체",-1),(0,i.Lk)("option",{value:"title"},"제목",-1),(0,i.Lk)("option",{value:"author"},"작성자",-1)]),512),[[o.u1,s.searchType]]),(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.searchKeyword=e),class:"search-input",placeholder:"검색어를 입력하세요",onKeyup:t[2]||(t[2]=(0,o.jR)(((...e)=>n.handleSearch&&n.handleSearch(...e)),["enter"]))},null,544),[[o.Jo,s.searchKeyword]]),(0,i.Lk)("button",{class:"search-button",onClick:t[3]||(t[3]=(...e)=>n.handleSearch&&n.handleSearch(...e))},"검색")])]),(0,i.Lk)("div",wo,[(0,i.Lk)("table",_o,[t[9]||(t[9]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"번호"),(0,i.Lk)("th",null,"제목"),(0,i.Lk)("th",null,"작성자"),(0,i.Lk)("th",null,"작성일")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.paginatedArticles,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.articleId},[(0,i.Lk)("td",Io,(0,m.v_)(e.articleId),1),(0,i.Lk)("td",{class:"title-cell",onClick:t=>n.viewArticle(e.articleId)},[(0,i.Lk)("div",Po,[(0,i.Lk)("span",So,(0,m.v_)(e.articleTitle),1)])],8,Eo),(0,i.Lk)("td",$o,(0,m.v_)(e.memberNickname),1),(0,i.Lk)("td",Qo,(0,m.v_)(n.formatDate(e.createdAt)),1)])))),128)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.emptyRows,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:`empty-${e}`,class:"empty-row"},t[8]||(t[8]=[(0,i.Lk)("td",{colspan:"4"}," ",-1)]))))),128))])]),(0,i.Lk)("div",Uo,[(0,i.Lk)("div",Bo,[(0,i.Lk)("div",To,[(0,i.Lk)("div",No,[(0,i.Lk)("button",{class:"nav-btn prev",onClick:t[4]||(t[4]=(...e)=>n.prevPage&&n.prevPage(...e)),disabled:1===s.currentPage}," < ",8,Do),(0,i.Lk)("div",Vo,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.getDisplayedPages(),(e=>((0,i.uX)(),(0,i.CE)("button",{key:e,class:(0,m.C4)(["page-num",{active:s.currentPage===e}]),onClick:t=>n.goToPage(e)},(0,m.v_)(e),11,Ro)))),128))]),(0,i.Lk)("button",{class:"nav-btn next",onClick:t[5]||(t[5]=(...e)=>n.nextPage&&n.nextPage(...e)),disabled:s.currentPage===n.totalPages}," > ",8,Fo)])])]),(0,i.Lk)("button",{class:"write-button",onClick:t[6]||(t[6]=t=>e.$router.push("/articleform"))},"글쓰기")])])])]),(0,i.bF)(c)])}var Go={name:"GeneralForum",components:{AppHeader:E,AppFooter:j},data(){return{articles:[],currentPage:1,itemsPerPage:7,searchType:"all",searchKeyword:""}},computed:{filteredList(){return this.searchKeyword?this.articles.filter((e=>{const t=this.searchKeyword.toLowerCase();switch(this.searchType){case"title":return e.articleTitle.toLowerCase().includes(t);case"author":return e.memberNickname.toLowerCase().includes(t);case"all":return e.articleTitle.toLowerCase().includes(t)||e.memberNickname.toLowerCase().includes(t);default:return!0}})):this.articles},paginatedArticles(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredList.slice(e,t)},totalPages(){return Math.ceil(this.filteredList.length/this.itemsPerPage)}},methods:{async fetchArticles(){try{const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=await H.A.get(t+"/api/v1/articles",{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});this.articles=a.data.sort(((e,t)=>t.articleId-e.articleId))}catch(e){console.error("Failed to fetch articles:",e),alert("게시글을 불러는데 실패했습니다.")}},viewArticle(e){this.$router.push(`/articles/${e}`)},formatDate(e){if(!e||!Array.isArray(e))return"";try{const t=e[0],a=String(e[1]).padStart(2,"0"),o=String(e[2]).padStart(2,"0");return`${t}-${a}-${o}`}catch(t){return console.error("Date formatting error:",t),""}},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--},goToPage(e){this.currentPage=e},getDisplayedPages(){const e=this.totalPages,t=this.currentPage;return e<=5?Array.from({length:e},((e,t)=>t+1)):t<=3?[1,2,3,4,5]:t>=e-2?[e-4,e-3,e-2,e-1,e]:[t-2,t-1,t,t+1,t+2]},handleSearch(){this.currentPage=1}},watch:{searchType(){this.currentPage=1}},mounted(){this.fetchArticles()}};const Xo=(0,l.A)(Go,[["render",Mo],["__scopeId","data-v-22b2357f"]]);var Oo=Xo;const xo={class:"scroll-container"},Ko={class:"article-detail-page"},jo={class:"content"},Ho={class:"article-container"},Jo={class:"article-header"},Wo={class:"article-title"},Yo={class:"article-info"},Zo={class:"author"},ei={class:"date"},ti={class:"article-content"},ai={class:"comments-section"},oi={class:"comment-form"},ii={class:"comment-form-footer"},ri={class:"char-count"},si={class:"comments-list"},ni={class:"comment-header"},li={class:"comment-left"},ci={class:"comment-author"},ui={class:"comment-right"},di={class:"comment-date"},mi={key:0,class:"edited-mark"},hi={key:0,class:"comment-actions"},ki=["onClick"],pi=["onClick"],gi={key:0,class:"edit-form"},Li=["onUpdate:modelValue"],zi={class:"edit-form-footer"},vi={class:"char-count"},bi={class:"edit-buttons"},Ci=["onClick"],Ai=["onClick"],fi={key:1,class:"comment-content"},qi={class:"button-group"},yi={key:0,class:"author-buttons"};function wi(e,t,a,r,s,n){const l=(0,i.g2)("AppHeader"),c=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",xo,[(0,i.Lk)("div",Ko,[(0,i.bF)(l),(0,i.Lk)("div",jo,[(0,i.Lk)("div",Ho,[(0,i.Lk)("div",Jo,[(0,i.Lk)("h1",Wo,(0,m.v_)("제목 : "+s.article.articleTitle),1),(0,i.Lk)("div",Yo,[(0,i.Lk)("span",Zo,"작성자: "+(0,m.v_)(s.article.memberNickname),1),(0,i.Lk)("span",ei,"작성일: "+(0,m.v_)(n.formatDate(s.article.createdAt)),1)])]),(0,i.Lk)("div",ti,(0,m.v_)(s.article.articleContents),1),(0,i.Lk)("div",ai,[t[5]||(t[5]=(0,i.Lk)("h3",null,"댓글",-1)),(0,i.Lk)("div",oi,[(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.newComment=e),placeholder:"댓글을 작성해주세요",rows:"3",maxlength:"255"},null,512),[[o.Jo,s.newComment]]),(0,i.Lk)("div",ii,[(0,i.Lk)("span",ri,(0,m.v_)(s.newComment.length)+"/255자",1),(0,i.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.submitComment&&n.submitComment(...e)),class:"comment-submit"},"댓글 작성")])]),(0,i.Lk)("div",si,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.comments,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.articleCommentId,class:"comment"},[(0,i.Lk)("div",ni,[(0,i.Lk)("div",li,[(0,i.Lk)("span",ci,"작성자: "+(0,m.v_)(e.memberNickname),1)]),(0,i.Lk)("div",ui,[(0,i.Lk)("span",di,[(0,i.eW)((0,m.v_)(n.formatDate(e.articleCommentCreatedAt))+" ",1),e.articleCommentUpdatedAt?((0,i.uX)(),(0,i.CE)("span",mi,"(수정됨)")):(0,i.Q3)("",!0)]),n.isCurrentUserComment(e.memberNickname)?((0,i.uX)(),(0,i.CE)("div",hi,[e.isEditing?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t=>n.startEditing(e),class:"edit-btn"}," 수정 ",8,ki)),(0,i.Lk)("button",{onClick:t=>n.deleteComment(e.articleCommentId),class:"delete-btn"}," 삭제 ",8,pi)])):(0,i.Q3)("",!0)])]),e.isEditing?((0,i.uX)(),(0,i.CE)("div",gi,[(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t=>e.editContent=t,rows:"3",maxlength:"255"},null,8,Li),[[o.Jo,e.editContent]]),(0,i.Lk)("div",zi,[(0,i.Lk)("span",vi,(0,m.v_)(e.editContent.length)+"/255자",1),(0,i.Lk)("div",bi,[(0,i.Lk)("button",{onClick:t=>n.saveEdit(e),class:"save-btn"},"저장",8,Ci),(0,i.Lk)("button",{onClick:t=>n.cancelEdit(e),class:"cancel-btn"},"취소",8,Ai)])])])):((0,i.uX)(),(0,i.CE)("p",fi,(0,m.v_)(e.articleCommentContent),1))])))),128))])]),(0,i.Lk)("div",qi,[(0,i.Lk)("button",{class:"list-button",onClick:t[2]||(t[2]=(...e)=>n.goToList&&n.goToList(...e))},"목록"),s.isAuthor?((0,i.uX)(),(0,i.CE)("div",yi,[(0,i.Lk)("button",{class:"edit-button",onClick:t[3]||(t[3]=(...e)=>n.editArticle&&n.editArticle(...e))},"수정"),(0,i.Lk)("button",{class:"delete-button",onClick:t[4]||(t[4]=(...e)=>n.deleteArticle&&n.deleteArticle(...e))},"삭제")])):(0,i.Q3)("",!0)])])]),(0,i.bF)(c)])])}var _i={name:"ArticleDetail",components:{AppHeader:E,AppFooter:j},data(){return{article:{articleId:null,memberNickname:"",articleTitle:"",articleContents:"",createdAt:null},isAuthor:!1,newComment:"",currentUserNickname:"",comments:[]}},methods:{async fetchArticle(){try{const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,o=await H.A.get(`${t}/api/v1/articles/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});this.article=o.data}catch(e){console.error("Failed to fetch article:",e),alert("게시글을 불러오는데 실패했습니다.")}},formatDate(e){if(!e||!Array.isArray(e))return"";try{const t=e[0],a=String(e[1]).padStart(2,"0"),o=String(e[2]).padStart(2,"0"),i=String(e[3]).padStart(2,"0"),r=String(e[4]).padStart(2,"0");return`${t}-${a}-${o} ${i}:${r}`}catch(t){return console.error("Date formatting error:",t),""}},goToList(){this.$router.push("/articles")},editArticle(){this.$router.push(`/articles/${this.article.articleId}/edit`)},async deleteArticle(){if(confirm("정말로 삭제하시겠습니까?"))try{const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await H.A.delete(`${t}/api/v1/articles/${this.article.articleId}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),alert("게시글이 삭제되었습니다."),this.$router.push("/articles")}catch(e){console.error("Failed to delete article:",e),alert("게시글 삭제에 실패했습니다.")}},isCurrentUserComment(e){return this.currentUserNickname===e},async submitComment(){if(!this.newComment.trim())return void alert("댓글 내용을 입력해주세요.");const e=localStorage.getItem("jwtToken");if(!e)return alert("로그인이 필요합니다."),void this.$router.push("/login");try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,o={articleId:parseInt(a),articleCommentContent:this.newComment,articleCommentCreatedAt:(new Date).toISOString()};await H.A.post(`${t}/api/v1/article-comments`,o,{headers:{Authorization:`Bearer ${e}`}}),this.newComment="",await this.fetchComments()}catch(t){console.error("댓글 작성 실패:",t),alert("댓글 작성에 실패했습니다.")}},startEditing(e){e.isEditing=!0,e.editContent=e.articleCommentContent},async saveEdit(e){if(!e.editContent.trim())return void alert("댓글 내용을 력해주세요.");const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await H.A.patch(`${a}/api/v1/article-comments/${e.articleCommentId}`,{articleCommentContent:e.editContent},{headers:{Authorization:`Bearer ${t}`}}),e.isEditing=!1,await this.fetchComments()}catch(a){console.error("댓글 수정 실패:",a),alert("댓글 수정에 실패했습니다.")}},cancelEdit(e){e.isEditing=!1,e.editContent=e.articleCommentContent},async deleteComment(e){if(!confirm("댓글을 삭제하시겠습니까?"))return;const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await H.A.delete(`${a}/api/v1/article-comments/${e}`,{headers:{Authorization:`Bearer ${t}`}}),await this.fetchComments()}catch(a){console.error("댓글 삭제 실패:",a),alert("댓글 삭제에 실패했습니다.")}},async fetchComments(){try{const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,o=await H.A.get(`${t}/api/v1/article-comments`,{params:{articleId:a},headers:{Authorization:`Bearer ${e}`}});this.comments=o.data.map((e=>({...e,isEditing:!1,editContent:e.articleCommentContent})))}catch(e){console.error("댓글 조회 실패:",e)}}},async mounted(){this.currentUserNickname=localStorage.getItem("memberNickname"),await this.fetchArticle(),await this.fetchComments()}};const Ii=(0,l.A)(_i,[["render",wi],["__scopeId","data-v-c2b7bde8"]]);var Ei=Ii;const Pi=[{path:"/",name:"Home",component:$},{path:"/quizform",name:"QuizForm",component:Y},{path:"/quizboard",name:"QuizBoard",component:Pe},{path:"/quiz/:id",name:"QuizDetail",component:kt},{path:"/login",name:"Login",component:It},{path:"/signup",name:"SignUp",component:Ot},{path:"/articleform",name:"ArticleForm",component:ea},{path:"/mypage",name:"MyPage",component:vo},{path:"/articles",name:"Articles",component:Oo},{path:"/articles/:id",name:"ArticleDetail",component:Ei}],Si=(0,d.aE)({history:(0,d.LA)(),routes:Pi});var $i=Si;window.__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!0;const Qi=(0,o.Ef)(u);Qi.use($i),Qi.mount("#app")}},t={};function a(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,o,i,r){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],i=e[u][1],r=e[u][2];for(var n=!0,l=0;l<o.length;l++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(n=!1,r<s&&(s=r));if(n){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,i,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,s=o[0],n=o[1],l=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(l)var u=l(a)}for(t&&t(o);c<s.length;c++)r=s[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},o=self["webpackChunkdon"]=self["webpackChunkdon"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(3383)}));o=a.O(o)})();
//# sourceMappingURL=app.743ba07d.js.map