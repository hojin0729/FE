(function(){"use strict";var e={563:function(e,t,a){var i=a(5130),r=a(6768);const o={id:"app"};function n(e,t,a,i,n,s){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[t[0]||(t[0]=(0,r.Lk)("nav",null,null,-1)),(0,r.bF)(l)])}var s={name:"App"},l=a(1241);const c=(0,l.A)(s,[["render",n]]);var u=c,d=a(1387);a(4114);const m={class:"home-container"},h={class:"content"},p={class:"buttons-container"};function g(e,t,a,i,o,n){const s=(0,r.g2)("AppHeader"),l=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.bF)(s),(0,r.Lk)("div",h,[(0,r.Lk)("div",p,[(0,r.Lk)("button",{class:"menu-button",onClick:t[0]||(t[0]=t=>e.$router.push("/quizboard"))},t[2]||(t[2]=[(0,r.Lk)("span",{class:"button-text"},"퀴즈 게시판",-1)])),(0,r.Lk)("button",{class:"menu-button",onClick:t[1]||(t[1]=t=>e.$router.push("/articles"))},t[3]||(t[3]=[(0,r.Lk)("span",{class:"button-text"},"자유 게시판",-1)]))])]),(0,r.bF)(l)])}var L=a.p+"img/image.e5b39635.png";const k={class:"app-header"},z={class:"nav-bar"},v={key:1};function b(e,t,a,o,n,s){return(0,r.uX)(),(0,r.CE)("header",k,[(0,r.Lk)("img",{src:L,alt:"Header Image",class:"header-image",onClick:t[0]||(t[0]=(...e)=>o.goToHome&&o.goToHome(...e))}),(0,r.Lk)("nav",z,[(0,r.Lk)("ul",null,[o.isLoggedIn?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.Lk)("li",null,[(0,r.Lk)("a",{href:"/mypage",onClick:t[1]||(t[1]=(0,i.D$)(((...e)=>o.goToMyPage&&o.goToMyPage(...e)),["prevent"]))},"마이페이지")]),(0,r.Lk)("li",null,[(0,r.Lk)("a",{href:"#",onClick:t[2]||(t[2]=(0,i.D$)(((...e)=>o.logout&&o.logout(...e)),["prevent"]))},"로그아웃")])],64)):((0,r.uX)(),(0,r.CE)("li",v,[(0,r.Lk)("a",{href:"/login",onClick:t[3]||(t[3]=(0,i.D$)(((...e)=>o.navigateToLogin&&o.navigateToLogin(...e)),["prevent"]))},"로그인")]))])])])}var C=a(144),y={name:"AppHeader",setup(){const e=(0,C.KR)(!1),t=(0,d.rd)();function a(){t.push({path:"/"})}function i(){t.push("/mypage")}function o(){t.push("/login")}function n(){const t="exampleToken";localStorage.setItem("jwtToken",t),e.value=!0}function s(){localStorage.removeItem("jwtToken"),localStorage.removeItem("memberId"),localStorage.removeItem("memberNickname"),e.value=!1,t.push("/login")}return(0,r.sV)((()=>{e.value=!!localStorage.getItem("jwtToken")})),{isLoggedIn:e,goToHome:a,goToMyPage:i,login:n,logout:s,navigateToLogin:o}}};const f=(0,l.A)(y,[["render",b],["__scopeId","data-v-9244dafa"]]);var A=f;const q={class:"app-footer"};function w(e,t,a,i,o,n){return(0,r.uX)(),(0,r.CE)("footer",q,t[0]||(t[0]=[(0,r.Lk)("p",null,"© 2024 Quiz Creator. All rights reserved.",-1)]))}var _={name:"AppFooter"};const P=(0,l.A)(_,[["render",w],["__scopeId","data-v-9eefe736"]]);var E=P,I={name:"HomePage",components:{AppHeader:A,AppFooter:E}};const S=(0,l.A)(I,[["render",g],["__scopeId","data-v-487643a0"]]);var Q=S,$=a(4232);const U={class:"container"},T={class:"quiz-form"},D={class:"form-group"},N={class:"form-group"},F={class:"form-group"},V={class:"form-group"},B={class:"form-group"},R={class:"form-group"},X={class:"input-wrapper"},x={class:"char-count"};function K(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",U,[(0,r.bF)(l),(0,r.Lk)("div",T,[t[17]||(t[17]=(0,r.Lk)("h2",null,"문제 생성",-1)),(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,i.D$)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",D,[t[8]||(t[8]=(0,r.Lk)("label",{for:"category"},"카테고리:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=e=>n.quiz.quizCategory=e),required:""},t[7]||(t[7]=[(0,r.Fv)('<option disabled value="" data-v-5244d688>카테고리를 선택하세요</option><option value="용돈관리" data-v-5244d688>용돈관리</option><option value="화폐" data-v-5244d688>화폐</option><option value="신용과 위험관리" data-v-5244d688>신용과 위험관리</option><option value="개인정보보호와 금융사기 예방" data-v-5244d688>개인정보보호와 금융사기 예방</option><option value="금융회사" data-v-5244d688>금융회사</option><option value="화폐와 환율" data-v-5244d688>화폐와 환율</option><option value="현명한 소비" data-v-5244d688>현명한 소비</option><option value="신용과 부채관리" data-v-5244d688>신용과 부채관리</option><option value="저축" data-v-5244d688>저축</option><option value="위험관리와 보험" data-v-5244d688>위험관리 보험</option><option value="금융시사" data-v-5244d688>금융시사</option><option value="금융권 진로탐색" data-v-5244d688>금융권 진로탐색</option>',13)]),512),[[i.u1,n.quiz.quizCategory]])]),(0,r.Lk)("div",N,[t[9]||(t[9]=(0,r.Lk)("label",{for:"quiz"},"퀴즈 제목:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"quiz","onUpdate:modelValue":t[1]||(t[1]=e=>n.quiz.quizTitle=e),required:""},null,512),[[i.Jo,n.quiz.quizTitle]])]),(0,r.Lk)("div",F,[t[10]||(t[10]=(0,r.Lk)("label",{for:"type"},"타입:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"type","onUpdate:modelValue":t[2]||(t[2]=e=>n.quiz.quizType=e),value:"O/X",readonly:""},null,512),[[i.Jo,n.quiz.quizType]])]),(0,r.Lk)("div",V,[t[12]||(t[12]=(0,r.Lk)("label",{for:"level"},"난이도:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"level","onUpdate:modelValue":t[3]||(t[3]=e=>n.quiz.quizLevel=e),required:""},t[11]||(t[11]=[(0,r.Lk)("option",{value:"easy"},"Easy",-1),(0,r.Lk)("option",{value:"normal"},"Normal",-1),(0,r.Lk)("option",{value:"hard"},"Hard",-1)]),512),[[i.u1,n.quiz.quizLevel]])]),(0,r.Lk)("div",B,[t[14]||(t[14]=(0,r.Lk)("label",{for:"answer"},"정답:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"answer","onUpdate:modelValue":t[4]||(t[4]=e=>n.quiz.quizAnswer=e),required:""},t[13]||(t[13]=[(0,r.Lk)("option",{disabled:"",value:""},"정답을 선택하세요",-1),(0,r.Lk)("option",{value:"O"},"O",-1),(0,r.Lk)("option",{value:"X"},"X",-1)]),512),[[i.u1,n.quiz.quizAnswer]])]),(0,r.Lk)("div",R,[t[15]||(t[15]=(0,r.Lk)("label",{for:"description"},"해설:",-1)),(0,r.Lk)("div",X,[(0,r.bo)((0,r.Lk)("textarea",{id:"description","onUpdate:modelValue":t[5]||(t[5]=e=>n.quiz.quizDescription=e),required:"",maxlength:"500"},null,512),[[i.Jo,n.quiz.quizDescription]]),(0,r.Lk)("span",x,(0,$.v_)(n.quiz.quizDescription.length)+"/500자",1)])]),t[16]||(t[16]=(0,r.Lk)("div",{class:"button-container"},[(0,r.Lk)("button",{type:"submit"},"퀴즈 생성")],-1))],32)]),(0,r.bF)(c)])}var O=a(4373),j={components:{AppHeader:A,AppFooter:E},data(){return{quiz:{memberId:localStorage.getItem("memberId"),quizCategory:"",quizTitle:"",quizType:"O / X",quizAnswer:"",quizDescription:"",quizLevel:"normal"}}},methods:{async submitForm(){try{const e=localStorage.getItem("jwtToken");if(!e)return alert("로그인이 필요합니다."),void this.$router.push("/login");const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await O.A.post(t+"/api/v1/quizs",this.quiz,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),this.$router.push("/quizboard")}catch(e){console.error("Failed to create quiz:",e),alert("퀴즈 생성에 실패했습니다. 다시 시도해 주세요.")}}}};const M=(0,l.A)(j,[["render",K],["__scopeId","data-v-5244d688"]]);var G=M;const H={class:"quiz-board-page"},J={class:"content"},W={class:"quiz-board"},Y={class:"search-area"},Z={class:"total-count"},ee={class:"search-container"},te={class:"table-container"},ae={class:"quiz-table"},ie={key:0},re={class:"id-cell"},oe=["onClick"],ne={class:"title-wrapper"},se={class:"title-text"},le={class:"badges"},ce={class:"category-badge"},ue={class:"level-badge"},de={class:"author-cell"},me={class:"date-cell"},he={key:1,class:"empty-row"},pe={class:"pagination-container"},ge={class:"pagination"},Le={class:"pagination-wrapper"},ke={class:"pagination-buttons"},ze=["disabled"],ve={class:"page-numbers"},be=["onClick"],Ce=["disabled"];function ye(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",H,[(0,r.bF)(l),(0,r.Lk)("div",J,[(0,r.Lk)("div",W,[(0,r.Lk)("div",Y,[(0,r.Lk)("div",Z,"전체 "+(0,$.v_)(n.totalItems)+"건",1),(0,r.Lk)("div",ee,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchType=e),class:"search-select"},t[7]||(t[7]=[(0,r.Fv)('<option value="all" data-v-b1313b80>전체</option><option value="title" data-v-b1313b80>제목</option><option value="category" data-v-b1313b80>카테고리</option><option value="level" data-v-b1313b80>난이도</option><option value="author" data-v-b1313b80>작성자</option>',5)]),512),[[i.u1,n.searchType]]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchKeyword=e),class:"search-input",placeholder:"검색어를 입력하세요",onKeyup:t[2]||(t[2]=(0,i.jR)(((...e)=>s.handleSearch&&s.handleSearch(...e)),["enter"]))},null,544),[[i.Jo,n.searchKeyword]]),(0,r.Lk)("button",{class:"search-button",onClick:t[3]||(t[3]=(...e)=>s.handleSearch&&s.handleSearch(...e))},"검색")])]),(0,r.Lk)("div",te,[(0,r.Lk)("table",ae,[t[9]||(t[9]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{width:"10%"},"번호"),(0,r.Lk)("th",{width:"50%"},"제목"),(0,r.Lk)("th",{width:"20%"},"작성자"),(0,r.Lk)("th",{width:"20%"},"작성일")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.itemsPerPage,(e=>((0,r.uX)(),(0,r.CE)(r.FK,{key:e},[s.paginatedQuizList[e-1]?((0,r.uX)(),(0,r.CE)("tr",ie,[(0,r.Lk)("td",re,(0,$.v_)(n.totalItems-((n.currentPage-1)*n.itemsPerPage+(e-1))),1),(0,r.Lk)("td",{class:"title-cell",onClick:t=>s.goToQuizDetail(s.paginatedQuizList[e-1].quizId)},[(0,r.Lk)("div",ne,[(0,r.Lk)("span",se,(0,$.v_)(s.paginatedQuizList[e-1].quizTitle),1),(0,r.Lk)("span",le,[(0,r.Lk)("span",ce,(0,$.v_)(s.paginatedQuizList[e-1].quizCategory),1),(0,r.Lk)("span",ue,(0,$.v_)(s.paginatedQuizList[e-1].quizLevel),1)])])],8,oe),(0,r.Lk)("td",de,(0,$.v_)(s.paginatedQuizList[e-1].memberNickname),1),(0,r.Lk)("td",me,(0,$.v_)(s.formatDate(s.paginatedQuizList[e-1].date)),1)])):((0,r.uX)(),(0,r.CE)("tr",he,t[8]||(t[8]=[(0,r.Lk)("td",{colspan:"4"}," ",-1)])))],64)))),128))])]),(0,r.Lk)("div",pe,[(0,r.Lk)("div",ge,[(0,r.Lk)("div",Le,[(0,r.Lk)("div",ke,[(0,r.Lk)("button",{class:"nav-btn prev",onClick:t[4]||(t[4]=(...e)=>s.prevPage&&s.prevPage(...e)),disabled:1===n.currentPage}," < ",8,ze),(0,r.Lk)("div",ve,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.getDisplayedPages(),(e=>((0,r.uX)(),(0,r.CE)("button",{key:e,class:(0,$.C4)(["page-num",{active:n.currentPage===e}]),onClick:t=>s.goToPage(e)},(0,$.v_)(e),11,be)))),128))]),(0,r.Lk)("button",{class:"nav-btn next",onClick:t[5]||(t[5]=(...e)=>s.nextPage&&s.nextPage(...e)),disabled:n.currentPage===s.totalPages}," > ",8,Ce)])])]),(0,r.Lk)("button",{class:"create-quiz-button search-button",onClick:t[6]||(t[6]=(...e)=>s.createQuiz&&s.createQuiz(...e))},"퀴즈 생성")])])])]),(0,r.bF)(c)])}var fe={name:"HomePage",components:{AppHeader:A,AppFooter:E},data(){return{quizList:[],currentPage:1,itemsPerPage:10,totalItems:0,searchType:"all",searchKeyword:""}},computed:{filteredList(){return this.quizList},paginatedQuizList(){return this.quizList},totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}},methods:{async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchQuizList())},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchQuizList())},async goToPage(e){this.currentPage=e,await this.fetchQuizList()},async goToFirstPage(){this.currentPage=1,await this.fetchQuizList()},async goToLastPage(){this.currentPage=this.totalPages,await this.fetchQuizList()},async handleSearch(){this.currentPage=1,await this.fetchQuizList()},async fetchQuizList(){const e=localStorage.getItem("jwtToken");if(e)try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=await O.A.get(`${t}/api/v1/quizs/all`,{params:{page:this.currentPage-1,size:this.itemsPerPage,searchType:this.searchType,searchKeyword:this.searchKeyword},headers:{Authorization:`Bearer ${e}`}});console.log("서버 응답 데이터:",a.data),this.quizList=a.data.content.map((e=>({quizId:e.quizId,memberNickname:e.memberNickname||"알 수 없음",quizCategory:e.quizCategory,quizTitle:e.quizTitle,quizLevel:e.quizLevel,quizAnswer:e.quizAnswer,quizDescription:e.quizDescription,date:e.date,count:e.count||0}))),this.totalItems=a.data.totalElements}catch(t){console.error("퀴즈 목록 조회 실패:",t),alert("퀴즈 목록을 불러오는 데 실패했습니다.")}else console.error("Token is missing")},createQuiz(){this.$router.push("/quizform")},goToQuizDetail(e){this.$router.push(`/quiz/${e}`)},formatDate(e){if(!e)return"";try{if(e instanceof Date)return e.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,"-").replace(".","");if(Array.isArray(e)){const t=new Date(e[0],e[1]-1,e[2]);return t.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,"-").replace(".","")}return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,"-").replace(".","")}catch(t){return console.error("날짜 변환 실패:",t,e),""}},getDisplayedPages(){const e=this.totalPages,t=this.currentPage;return e<=5?Array.from({length:e},((e,t)=>t+1)):t<=3?[1,2,3,4,5]:t>=e-2?[e-4,e-3,e-2,e-1,e]:[t-2,t-1,t,t+1,t+2]}},watch:{searchType:{async handler(){this.currentPage=1,await this.fetchQuizList()}},searchKeyword:{async handler(){this.currentPage=1,await this.fetchQuizList()}}},async mounted(){const e=localStorage.getItem("jwtToken");if(!e)return console.error("로그인이 필요합니다."),void this.$router.push("/login");await this.fetchQuizList()}};const Ae=(0,l.A)(fe,[["render",ye],["__scopeId","data-v-b1313b80"]]);var qe=Ae;const we={class:"quiz-detail-page"},_e={class:"content"},Pe={class:"quiz-detail"},Ee={class:"quiz-info"},Ie={class:"quiz-header"},Se={class:"quiz-meta"},Qe={class:"category-badge"},$e={class:"level-badge"},Ue={class:"author"},Te={class:"date"},De={class:"quiz-content"},Ne={class:"quiz-description"},Fe={class:"quiz-answer"},Ve={class:"comments-section"},Be={class:"comment-form"},Re={class:"comment-form-footer"},Xe={class:"char-count"},xe={class:"comments-list"},Ke={class:"comment-header"},Oe={class:"comment-left"},je={class:"comment-author"},Me={class:"comment-date"},Ge={key:0,class:"comment-actions"},He=["onClick"],Je=["onClick"],We={key:0,class:"edit-form"},Ye=["onUpdate:modelValue"],Ze={class:"edit-form-footer"},et={class:"char-count"},tt={class:"edit-buttons"},at=["onClick"],it=["onClick"],rt={key:1,class:"comment-content"};function ot(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",we,[(0,r.bF)(l),(0,r.Lk)("div",_e,[(0,r.Lk)("div",Pe,[(0,r.Lk)("div",Ee,[(0,r.Lk)("div",Ie,[(0,r.Lk)("h2",null,(0,$.v_)(n.quiz.quizTitle),1),(0,r.Lk)("div",Se,[(0,r.Lk)("span",Qe,(0,$.v_)(n.quiz.quizCategory),1),(0,r.Lk)("span",$e,(0,$.v_)(n.quiz.quizLevel),1),(0,r.Lk)("span",Ue,"작성자: "+(0,$.v_)(n.quiz.memberNickname),1),(0,r.Lk)("span",Te,"작성일: "+(0,$.v_)(s.formatDate(n.quiz.date)),1)])]),(0,r.Lk)("div",De,[(0,r.Lk)("div",Ne,[t[2]||(t[2]=(0,r.Lk)("h3",null,"문제 내용",-1)),(0,r.Lk)("p",null,(0,$.v_)(n.quiz.quizDescription),1)]),(0,r.Lk)("div",Fe,[t[3]||(t[3]=(0,r.Lk)("h3",null,"정답",-1)),(0,r.Lk)("p",null,(0,$.v_)(n.quiz.quizAnswer),1)])])]),(0,r.Lk)("div",Ve,[t[4]||(t[4]=(0,r.Lk)("h3",null,"댓글",-1)),(0,r.Lk)("div",Be,[(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.newComment=e),placeholder:"댓글을 작성해주세요",rows:"3",maxlength:"500"},null,512),[[i.Jo,n.newComment]]),(0,r.Lk)("div",Re,[(0,r.Lk)("span",Xe,(0,$.v_)(n.newComment.length)+"/500자",1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.submitComment&&s.submitComment(...e)),class:"comment-submit"},"댓글 작성")])]),(0,r.Lk)("div",xe,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.comments,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.quizCommentId,class:"comment"},[(0,r.Lk)("div",Ke,[(0,r.Lk)("div",Oe,[(0,r.Lk)("span",je,(0,$.v_)(e.memberNickname),1),(0,r.Lk)("span",Me,(0,$.v_)(s.formatDate(e.quizCommentCreatedAt)),1)]),e.memberNickname===n.memberNickname?((0,r.uX)(),(0,r.CE)("div",Ge,[e.isEditing?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t=>s.startEditing(e),class:"edit-btn"}," 수정 ",8,He)),(0,r.Lk)("button",{onClick:t=>s.deleteComment(e.quizCommentId),class:"delete-btn"}," 삭제 ",8,Je)])):(0,r.Q3)("",!0)]),e.isEditing?((0,r.uX)(),(0,r.CE)("div",We,[(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t=>e.editContent=t,rows:"3",maxlength:"500"},null,8,Ye),[[i.Jo,e.editContent]]),(0,r.Lk)("div",Ze,[(0,r.Lk)("span",et,(0,$.v_)(e.editContent.length)+"/500자",1),(0,r.Lk)("div",tt,[(0,r.Lk)("button",{onClick:t=>s.saveEdit(e),class:"save-btn"},"저장",8,at),(0,r.Lk)("button",{onClick:t=>s.cancelEdit(e),class:"cancel-btn"},"취소",8,it)])])])):((0,r.uX)(),(0,r.CE)("p",rt,(0,$.v_)(e.quizCommentContent),1))])))),128))])])])]),(0,r.bF)(c)])}var nt={name:"QuizDetailPage",components:{AppHeader:A,AppFooter:E},data(){return{quiz:{quizId:null,memberId:null,quizTitle:"",quizCategory:"",quizLevel:"",quizAnswer:"",quizDescription:"",memberNickname:"",date:null,count:0},comments:[],newComment:"",selectedAnswer:null,showResult:!1,currentUserId:null,memberNickname:localStorage.getItem("memberNickname")||"",memberId:localStorage.getItem("memberId")||""}},methods:{async fetchQuizDetail(){const e=localStorage.getItem("jwtToken");if(!e)return console.error("로그인이 필요합니다."),void this.$router.push("/login");try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,i=await O.A.get(`${t}/api/v1/quizs/quiz/${a}`,{headers:{Authorization:`Bearer ${e}`}});console.log("백엔드 응답 데이터:",i.data),this.quiz={quizId:i.data.quizId,quizTitle:i.data.quizTitle,quizCategory:i.data.quizCategory,quizLevel:i.data.quizLevel,quizAnswer:i.data.quizAnswer,quizDescription:i.data.quizDescription,memberNickname:i.data.memberNickname,date:i.data.date,count:i.data.count||0},console.log("매핑된 퀴즈 데이터:",{"제목":this.quiz.quizTitle,"카테고리":this.quiz.quizCategory,"난이도":this.quiz.quizLevel,"작성자":this.quiz.memberNickname,"작성일":this.quiz.date,"원본데이터":i.data})}catch(t){console.error("퀴즈 상세 정보 조회 실패:",t),console.error("에러 응답:",t.response?.data),alert("퀴즈 정보를 불러오는 데 실패했습니다.")}},async fetchComments(){const e=localStorage.getItem("jwtToken");if(e)try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,i=await O.A.get(`${t}/api/v1/comments/quiz/${a}`,{headers:{Authorization:`Bearer ${e}`}});this.comments=i.data.map((e=>({...e,isEditing:!1,editContent:e.quizCommentContent})))}catch(t){console.error("댓글 조회 실패:",t)}},isCurrentUserComment(e){return e===this.memberId},async submitComment(){if(!this.newComment.trim())return void alert("댓글 내용을 입력해주세요.");const e=localStorage.getItem("jwtToken");if(!e)return alert("로그인이 필요합니다."),void this.$router.push("/login");try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id;await O.A.post(`${t}/api/v1/comments/quiz/${a}`,{memberId:this.memberId,quizCommentContent:this.newComment},{headers:{Authorization:`Bearer ${e}`}}),this.newComment="",await this.fetchComments()}catch(t){console.error("댓글 작성 실패:",t),alert("댓글 작성에 실패했습니다.")}},async deleteComment(e){if(!confirm("댓글을 삭제하시겠습니까?"))return;const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await O.A.delete(`${a}/api/v1/comments/${e}`,{headers:{Authorization:`Bearer ${t}`}}),await this.fetchComments()}catch(a){console.error("댓글 삭제 실패:",a),alert("댓글 삭제에 실패했습니다.")}},selectAnswer(e){this.selectedAnswer=e},submitAnswer(){this.showResult=!0},formatDate(e){if(!e)return"";try{if(Array.isArray(e)){const t=e[0],a=String(e[1]).padStart(2,"0"),i=String(e[2]).padStart(2,"0"),r=String(e[3]).padStart(2,"0"),o=String(e[4]).padStart(2,"0");return`${t}-${a}-${i} ${r}:${o}`}{const t=new Date(e),a=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${a}-${i}-${r} ${o}:${n}`}}catch(t){return console.error("날짜 변환 에러:",t,e),""}},startEditing(e){e.isEditing=!0,e.editContent=e.quizCommentContent},async saveEdit(e){if(!e.editContent.trim())return void alert("댓글 내용을 입력해주세요.");const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await O.A.put(`${a}/api/v1/comments/${e.quizCommentId}`,{memberId:this.memberId,quizCommentContent:e.editContent},{headers:{Authorization:`Bearer ${t}`}}),e.isEditing=!1,await this.fetchComments()}catch(a){console.error("댓글 수정 실패:",a),alert("댓글 수정에 실패했습니다.")}},cancelEdit(e){e.isEditing=!1,e.editContent=e.quizCommentContent}},async mounted(){const e=localStorage.getItem("memberId");this.currentUserId=e?parseInt(e):null,await this.fetchQuizDetail(),await this.fetchComments()}};const st=(0,l.A)(nt,[["render",ot],["__scopeId","data-v-50ab434b"]]);var lt=st;const ct={class:"container"},ut={class:"login-form"},dt={class:"login-content"},mt={class:"input-row"},ht={class:"input-row"},pt={class:"login-help"},gt={class:"right-links"};function Lt(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("router-link"),u=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",ct,[(0,r.bF)(l),(0,r.Lk)("div",ut,[(0,r.Lk)("div",dt,[t[9]||(t[9]=(0,r.Lk)("div",{class:"logo-area"},[(0,r.Lk)("img",{src:L,alt:"DGU",class:"logo-image",width:"100",height:"100"})],-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,i.D$)(((...e)=>s.submitLogin&&s.submitLogin(...e)),["prevent"]))},[(0,r.Lk)("div",mt,[(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.loginData.memberEmail=e),placeholder:"이메일",required:""},null,512),[[i.Jo,n.loginData.memberEmail]])]),(0,r.Lk)("div",ht,[(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.loginData.memberPassword=e),placeholder:"비밀번호",required:""},null,512),[[i.Jo,n.loginData.memberPassword]])]),t[8]||(t[8]=(0,r.Lk)("div",{class:"login-button-area"},[(0,r.Lk)("button",{type:"submit"},"로그인")],-1)),(0,r.Lk)("div",pt,[(0,r.Lk)("div",gt,[t[4]||(t[4]=(0,r.Lk)("a",{href:"#"},"비밀번호 찾기",-1)),t[5]||(t[5]=(0,r.Lk)("span",{class:"divider"},"|",-1)),t[6]||(t[6]=(0,r.Lk)("a",{href:"#"},"아이디 찾기",-1)),t[7]||(t[7]=(0,r.Lk)("span",{class:"divider"},"|",-1)),(0,r.bF)(c,{to:"/signup"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("회원가입")]))),_:1})])])],32)])]),(0,r.bF)(u)])}var kt=a(5068),zt={name:"LoginForm",data(){return{loginData:{memberEmail:"",memberPassword:""}}},methods:{async submitLogin(){try{const e={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,t=await O.A.post(e+"/api/v1/members/login",this.loginData,{withCredentials:!0});console.log("Full response:",t.data);const a=t.data,i=a.startsWith("Bearer ")?a.slice(7):a;if(!i)throw new Error("No token found in response");const r=(0,kt.s)(i),o=r.memberId,n=r.memberNickname;if(!o||!n)throw new Error("Required information not found in token");localStorage.setItem("jwtToken",i),localStorage.setItem("memberId",o),localStorage.setItem("memberNickname",n),this.$router.push("/")}catch(e){console.error("Login failed:",e),alert("로그인에 실패했습니다. 이메일과 비밀번호를 확인하세요.")}}}};const vt=(0,l.A)(zt,[["render",Lt],["__scopeId","data-v-06d406a4"]]);var bt=vt;const Ct={class:"signup-page"},yt={class:"signup-form-container"},ft={class:"form-group"},At={class:"form-group"},qt={class:"form-group"},wt={class:"form-group"},_t={class:"form-group"},Pt={class:"form-group"},Et={class:"form-group"},It=["value"],St={class:"form-group"},Qt={class:"form-group"};function $t(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",Ct,[(0,r.bF)(l),(0,r.Lk)("div",yt,[t[19]||(t[19]=(0,r.Lk)("h2",null,"회원 가입",-1)),(0,r.Lk)("form",{onSubmit:t[8]||(t[8]=(0,i.D$)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",ft,[t[9]||(t[9]=(0,r.Lk)("label",{for:"email"},"이메일:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.member.memberEmail=e),required:""},null,512),[[i.Jo,n.member.memberEmail]])]),(0,r.Lk)("div",At,[t[10]||(t[10]=(0,r.Lk)("label",{for:"password"},"비밀번호:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.member.memberPassword=e),required:""},null,512),[[i.Jo,n.member.memberPassword]])]),(0,r.Lk)("div",qt,[t[11]||(t[11]=(0,r.Lk)("label",{for:"name"},"이름:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>n.member.memberName=e),required:""},null,512),[[i.Jo,n.member.memberName]])]),(0,r.Lk)("div",wt,[t[12]||(t[12]=(0,r.Lk)("label",{for:"school"},"학교:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"school","onUpdate:modelValue":t[3]||(t[3]=e=>n.member.memberSchool=e),required:""},null,512),[[i.Jo,n.member.memberSchool]])]),(0,r.Lk)("div",_t,[t[13]||(t[13]=(0,r.Lk)("label",{for:"birthDay"},"생년월일:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",id:"birthDay","onUpdate:modelValue":t[4]||(t[4]=e=>n.member.memberBirthDay=e),required:""},null,512),[[i.Jo,n.member.memberBirthDay]])]),(0,r.Lk)("div",Pt,[t[14]||(t[14]=(0,r.Lk)("label",{for:"nickname"},"닉네임:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"nickname","onUpdate:modelValue":t[5]||(t[5]=e=>n.member.memberNickname=e),required:""},null,512),[[i.Jo,n.member.memberNickname]])]),(0,r.Lk)("div",Et,[t[15]||(t[15]=(0,r.Lk)("label",{for:"role"},"역할:",-1)),(0,r.Lk)("input",{type:"text",id:"role",value:s.roleDisplay,readonly:"",class:"readonly-input"},null,8,It)]),(0,r.Lk)("div",St,[t[16]||(t[16]=(0,r.Lk)("label",{for:"grade"},"학년:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",id:"grade","onUpdate:modelValue":t[6]||(t[6]=e=>n.member.memberGrade=e),min:"1",max:"12",required:""},null,512),[[i.Jo,n.member.memberGrade]])]),(0,r.Lk)("div",Qt,[t[17]||(t[17]=(0,r.Lk)("label",{for:"class"},"반:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",id:"class","onUpdate:modelValue":t[7]||(t[7]=e=>n.member.memberClass=e),min:"1",required:""},null,512),[[i.Jo,n.member.memberClass]])]),t[18]||(t[18]=(0,r.Lk)("button",{type:"submit"},"회원가입",-1))],32)]),(0,r.bF)(c)])}var Ut={name:"SignUpForm",components:{AppHeader:A,AppFooter:E},data(){return{member:{memberEmail:"",memberPassword:"",memberName:"",memberSchool:"",memberBirthDay:"",memberNickname:"",memberRole:"TEACHER",memberGrade:null,memberClass:null}}},computed:{roleDisplay(){return"TEACHER"===this.member.memberRole?"선생님":this.member.memberRole}},methods:{async submitForm(){try{const e={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await O.A.post(e+"/api/v1/members/register",this.member),alert("회원가입이 완료되었습니다!"),this.$router.push("/login")}catch(e){console.error("Failed to sign up:",e),alert("회원가입에 실패했습니다. 다시 시도해 주세요.")}}}};const Tt=(0,l.A)(Ut,[["render",$t],["__scopeId","data-v-a37e4d9a"]]);var Dt=Tt;const Nt={class:"container"},Ft={class:"article-form"},Vt={class:"form-group"},Bt={class:"form-group"};function Rt(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",Nt,[(0,r.bF)(l),(0,r.Lk)("div",Ft,[t[6]||(t[6]=(0,r.Lk)("h2",null,"글 작성",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,i.D$)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",Vt,[t[3]||(t[3]=(0,r.Lk)("label",{for:"title"},"제목:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>n.article.articleTitle=e),required:"",placeholder:"제목을 입력하세요"},null,512),[[i.Jo,n.article.articleTitle]])]),(0,r.Lk)("div",Bt,[t[4]||(t[4]=(0,r.Lk)("label",{for:"content"},"내용:",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>n.article.articleContents=e),required:"",placeholder:"내용을 입력하세요"},null,512),[[i.Jo,n.article.articleContents]])]),t[5]||(t[5]=(0,r.Lk)("div",{class:"button-container"},[(0,r.Lk)("button",{type:"submit"},"글 작성")],-1))],32)]),(0,r.bF)(c)])}var Xt={name:"ArticleForm",components:{AppHeader:A,AppFooter:E},data(){return{article:{memberId:localStorage.getItem("memberId"),articleTitle:"",articleContents:""}}},methods:{async submitForm(){try{const e=localStorage.getItem("jwtToken");if(!e)return alert("로그인이 필요합니다."),void this.$router.push("/login");const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await O.A.post(t+"/api/v1/articles",this.article,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),this.$router.push("/articles")}catch(e){console.error("Failed to create article:",e),alert("글 작성에 실패했습니다. 다시 시도해 주세요.")}}}};const xt=(0,l.A)(Xt,[["render",Rt],["__scopeId","data-v-144695f8"]]);var Kt=xt;const Ot={class:"my-page"},jt={class:"content"},Mt={class:"games-section"},Gt={class:"games-list"},Ht={class:"game-header"},Jt={class:"game-buttons"},Wt=["onClick"],Yt=["onClick"],Zt={class:"quiz-list"},ea={class:"quiz-info"},ta={class:"quiz-title"},aa={class:"quiz-badges"},ia={class:"category-badge"},ra={class:"level-badge"},oa=["onClick"],na={key:0,class:"modal"},sa={class:"modal-content"},la={class:"search-area"},ca={class:"search-container"},ua={class:"quiz-table"},da=["checked"],ma=["onClick"],ha=["value"],pa={class:"modal-buttons"},ga=["disabled"],La={class:"pagination-buttons"},ka=["disabled"],za={class:"page-info"},va=["disabled"],ba={key:1,class:"modal"},Ca={class:"modal-content"},ya={class:"search-area"},fa={class:"search-container"},Aa={class:"quiz-table"},qa=["checked"],wa=["onClick"],_a=["value"],Pa={class:"modal-buttons"},Ea=["disabled"],Ia={class:"pagination-buttons"},Sa=["disabled"],Qa={class:"page-info"},$a=["disabled"];function Ua(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",Ot,[(0,r.bF)(l),(0,r.Lk)("div",jt,[(0,r.Lk)("div",Mt,[t[32]||(t[32]=(0,r.Lk)("h2",null,"내 게임 목록",-1)),(0,r.Lk)("div",Gt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.games,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.gameId,class:"game-card"},[(0,r.Lk)("div",Ht,[(0,r.Lk)("h3",null,(0,$.v_)(e.gameName),1),(0,r.Lk)("div",Jt,[(0,r.Lk)("button",{onClick:t=>s.showQuizListModal(e),class:"view-quiz-btn"}," 퀴즈 목록 보기 ",8,Wt),(0,r.Lk)("button",{onClick:t=>s.showAddQuizModal(e),class:"add-quiz-btn"}," 퀴즈 추가 ",8,Yt)])]),(0,r.Lk)("div",Zt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.quizzes,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.quizId,class:"quiz-item"},[(0,r.Lk)("div",ea,[(0,r.Lk)("span",ta,(0,$.v_)(t.quizTitle),1),(0,r.Lk)("div",aa,[(0,r.Lk)("span",ia,(0,$.v_)(t.quizCategory),1),(0,r.Lk)("span",ra,(0,$.v_)(t.quizLevel),1)])]),(0,r.Lk)("button",{onClick:a=>s.removeQuizFromGame(e.gameId,t.quizId),class:"remove-btn"}," 제거 ",8,oa)])))),128))])])))),128))]),n.showQuizModal?((0,r.uX)(),(0,r.CE)("div",na,[(0,r.Lk)("div",sa,[t[26]||(t[26]=(0,r.Lk)("h3",null,"퀴즈 선택",-1)),(0,r.Lk)("div",la,[(0,r.Lk)("div",ca,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchType=e),class:"search-select"},t[22]||(t[22]=[(0,r.Lk)("option",{value:"all"},"전체",-1),(0,r.Lk)("option",{value:"title"},"제목",-1),(0,r.Lk)("option",{value:"category"},"카테고리",-1),(0,r.Lk)("option",{value:"level"},"난이도",-1)]),512),[[i.u1,n.searchType]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.searchKeyword=e),type:"text",placeholder:"퀴즈 검색",class:"search-input",onKeyup:t[2]||(t[2]=(0,i.jR)(((...e)=>s.handleSearch&&s.handleSearch(...e)),["enter"]))},null,544),[[i.Jo,n.searchKeyword]]),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>s.handleSearch&&s.handleSearch(...e)),class:"search-button"},"검색")])]),(0,r.Lk)("div",ua,[(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,[(0,r.Lk)("input",{type:"checkbox",checked:s.selectAll,onChange:t[4]||(t[4]=(...e)=>s.toggleSelectAll&&s.toggleSelectAll(...e))},null,40,da)]),t[23]||(t[23]=(0,r.Lk)("th",null,"제목",-1)),t[24]||(t[24]=(0,r.Lk)("th",null,"카테고리",-1)),t[25]||(t[25]=(0,r.Lk)("th",null,"난이도",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.paginatedQuizzes,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.quizId,class:"quiz-row",onClick:t=>s.toggleQuizSelection(e)},[(0,r.Lk)("td",{onClick:t[6]||(t[6]=(0,i.D$)((()=>{}),["stop"]))},[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>n.selectedQuizzes=e),value:e},null,8,ha),[[i.lH,n.selectedQuizzes]])]),(0,r.Lk)("td",null,(0,$.v_)(e.quizTitle),1),(0,r.Lk)("td",null,(0,$.v_)(e.quizCategory),1),(0,r.Lk)("td",null,(0,$.v_)(e.quizLevel),1)],8,ma)))),128))])])]),(0,r.Lk)("div",pa,[(0,r.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>s.addSelectedQuizzes&&s.addSelectedQuizzes(...e)),class:"add-selected-btn",disabled:!n.selectedQuizzes.length}," 선택한 퀴즈 추가 ("+(0,$.v_)(n.selectedQuizzes.length)+"개) ",9,ga),(0,r.Lk)("div",La,[(0,r.Lk)("button",{class:"nav-btn prev",onClick:t[8]||(t[8]=(...e)=>s.prevPage&&s.prevPage(...e)),disabled:1===n.currentPage}," 이전 ",8,ka),(0,r.Lk)("span",za,(0,$.v_)(n.currentPage)+" / "+(0,$.v_)(s.totalPages),1),(0,r.Lk)("button",{class:"nav-btn next",onClick:t[9]||(t[9]=(...e)=>s.nextPage&&s.nextPage(...e)),disabled:n.currentPage>=s.totalPages}," 다음 ",8,va)]),(0,r.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>s.closeQuizModal&&s.closeQuizModal(...e)),class:"cancel-btn"},"닫기")])])])):(0,r.Q3)("",!0),n.showQuizListModalFlag?((0,r.uX)(),(0,r.CE)("div",ba,[(0,r.Lk)("div",Ca,[t[31]||(t[31]=(0,r.Lk)("h3",null,"현재 게임의 퀴즈 목록",-1)),(0,r.Lk)("div",ya,[(0,r.Lk)("div",fa,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>n.quizListSearchType=e),class:"search-select"},t[27]||(t[27]=[(0,r.Lk)("option",{value:"all"},"전체",-1),(0,r.Lk)("option",{value:"title"},"제목",-1),(0,r.Lk)("option",{value:"category"},"카테고리",-1),(0,r.Lk)("option",{value:"level"},"난이도",-1)]),512),[[i.u1,n.quizListSearchType]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>n.quizListSearchKeyword=e),type:"text",placeholder:"퀴즈 검색",class:"search-input",onKeyup:t[13]||(t[13]=(0,i.jR)(((...e)=>s.handleQuizListSearch&&s.handleQuizListSearch(...e)),["enter"]))},null,544),[[i.Jo,n.quizListSearchKeyword]]),(0,r.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>s.handleQuizListSearch&&s.handleQuizListSearch(...e)),class:"search-button"},"검색")])]),(0,r.Lk)("div",Aa,[(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,[(0,r.Lk)("input",{type:"checkbox",checked:s.selectAllCurrentQuizzes,onChange:t[15]||(t[15]=(...e)=>s.toggleSelectAllCurrentQuizzes&&s.toggleSelectAllCurrentQuizzes(...e))},null,40,qa)]),t[28]||(t[28]=(0,r.Lk)("th",null,"제목",-1)),t[29]||(t[29]=(0,r.Lk)("th",null,"카테고리",-1)),t[30]||(t[30]=(0,r.Lk)("th",null,"난이도",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.paginatedCurrentGameQuizzes,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.teacherQuizId,class:"quiz-row",onClick:t=>s.toggleCurrentQuizSelection(e)},[(0,r.Lk)("td",{onClick:t[17]||(t[17]=(0,i.D$)((()=>{}),["stop"]))},[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=e=>n.selectedCurrentQuizzes=e),value:e},null,8,_a),[[i.lH,n.selectedCurrentQuizzes]])]),(0,r.Lk)("td",null,(0,$.v_)(e.quizTitle),1),(0,r.Lk)("td",null,(0,$.v_)(e.quizCategory),1),(0,r.Lk)("td",null,(0,$.v_)(e.quizLevel),1)],8,wa)))),128))])])]),(0,r.Lk)("div",Pa,[(0,r.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>s.removeSelectedQuizzes&&s.removeSelectedQuizzes(...e)),class:"remove-selected-btn",disabled:!n.selectedCurrentQuizzes.length}," 선택한 퀴즈 삭제 ("+(0,$.v_)(n.selectedCurrentQuizzes.length)+"개) ",9,Ea),(0,r.Lk)("div",Ia,[(0,r.Lk)("button",{class:"nav-btn prev",onClick:t[19]||(t[19]=(...e)=>s.prevQuizListPage&&s.prevQuizListPage(...e)),disabled:1===n.quizListCurrentPage}," 이전 ",8,Sa),(0,r.Lk)("span",Qa,(0,$.v_)(n.quizListCurrentPage)+" / "+(0,$.v_)(s.quizListTotalPages),1),(0,r.Lk)("button",{class:"nav-btn next",onClick:t[20]||(t[20]=(...e)=>s.nextQuizListPage&&s.nextQuizListPage(...e)),disabled:n.quizListCurrentPage>=s.quizListTotalPages}," 다음 ",8,$a)]),(0,r.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>s.closeQuizListModal&&s.closeQuizListModal(...e)),class:"cancel-btn"},"닫기")])])])):(0,r.Q3)("",!0)])]),(0,r.bF)(c)])}var Ta={name:"MyPage",components:{AppHeader:A,AppFooter:E},data(){return{games:[],quizList:[],showQuizModal:!1,currentGameId:null,searchType:"all",searchKeyword:"",selectedQuizzes:[],showQuizListModalFlag:!1,currentGameQuizzes:[],selectedCurrentQuizzes:[],currentGame:null,quizListSearchType:"all",quizListSearchKeyword:"",currentPage:1,itemsPerPage:10,quizListCurrentPage:1,quizListItemsPerPage:10}},computed:{filteredQuizzes(){if(!this.searchKeyword)return this.quizList;const e=this.searchKeyword.toLowerCase();return this.quizList.filter((t=>{switch(this.searchType){case"title":return t.quizTitle.toLowerCase().includes(e);case"category":return t.quizCategory.toLowerCase().includes(e);case"level":return t.quizLevel.toLowerCase().includes(e);case"author":return t.nickname.toLowerCase().includes(e);case"all":return t.quizTitle.toLowerCase().includes(e)||t.quizCategory.toLowerCase().includes(e)||t.quizLevel.toLowerCase().includes(e)||t.nickname.toLowerCase().includes(e);default:return!0}}))},selectAll:{get(){return this.filteredQuizzes.length===this.selectedQuizzes.length},set(e){this.selectedQuizzes=e?[...this.filteredQuizzes]:[]}},selectAllCurrentQuizzes:{get(){return this.currentGameQuizzes.length===this.selectedCurrentQuizzes.length},set(e){this.selectedCurrentQuizzes=e?[...this.currentGameQuizzes]:[]}},filteredCurrentGameQuizzes(){if(!this.quizListSearchKeyword)return this.currentGameQuizzes;const e=this.quizListSearchKeyword.toLowerCase();return this.currentGameQuizzes.filter((t=>{switch(this.quizListSearchType){case"title":return t.quizTitle.toLowerCase().includes(e);case"category":return t.quizCategory.toLowerCase().includes(e);case"level":return t.quizLevel.toLowerCase().includes(e);case"author":return t.nickname.toLowerCase().includes(e);case"all":return t.quizTitle.toLowerCase().includes(e)||t.quizCategory.toLowerCase().includes(e)||t.quizLevel.toLowerCase().includes(e)||t.nickname.toLowerCase().includes(e);default:return!0}}))},paginatedQuizzes(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredQuizzes.slice(e,t)},totalPages(){return Math.ceil(this.filteredQuizzes.length/this.itemsPerPage)},paginatedCurrentGameQuizzes(){const e=(this.quizListCurrentPage-1)*this.quizListItemsPerPage,t=e+this.quizListItemsPerPage;return this.filteredCurrentGameQuizzes.slice(e,t)},quizListTotalPages(){return Math.ceil(this.filteredCurrentGameQuizzes.length/this.quizListItemsPerPage)}},methods:{async fetchMyGames(){const e=localStorage.getItem("jwtToken");try{const t=await O.A.get(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/games`,{headers:{Authorization:`Bearer ${e}`}});this.games=t.data}catch(t){console.error("게임 목록 조회 실패:",t)}},async fetchQuizList(){const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;try{const a=await O.A.get(`${t}/api/v1/quizs/all`,{headers:{Authorization:`Bearer ${e}`}}),i=this.currentGameQuizzes.map((e=>e.quizId));this.quizList=a.data.filter((e=>!i.includes(e.quizId)))}catch(a){console.error("퀴즈 목록 조회 실패:",a)}},async showAddQuizModal(e){this.currentGameId=e.gameId,await this.fetchCurrentGameQuizzes(),await this.fetchQuizList(),this.showQuizModal=!0},handleSearch(){},async selectQuiz(e){if(!confirm(`"${e.quizTitle}" 퀴즈를 게임에 추가하시겠습니까?`))return;const t=localStorage.getItem("jwtToken"),a=Number(localStorage.getItem("memberId"));try{const i={quizId:e.quizId,gameId:this.currentGameId,isStopped:0},r=await O.A.post(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/teacher-quizzes/member/${a}`,i,{headers:{Authorization:`Bearer ${t}`}});r.data&&(console.log("퀴즈 성으로 저장되었습니다:",r.data),await this.fetchMyGames(),this.closeQuizModal())}catch(i){console.error("퀴즈 추가 실패:",i),alert("퀴즈 추가에 실패습니다.")}},async removeQuizFromGame(e,t){if(!confirm("이 퀴즈를 게임에서 제거하시겠습니까?"))return;const a=localStorage.getItem("jwtToken");try{await O.A.delete(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/games/${e}/quizzes/${t}`,{headers:{Authorization:`Bearer ${a}`}}),await this.fetchMyGames(),alert("퀴즈가 제거되었습니다.")}catch(i){console.error("퀴즈 제거 실패:",i),alert("퀴즈 제거에 실패했습니다.")}},toggleSelectAll(){this.selectAll=!this.selectAll},async addSelectedQuizzes(){if(!this.selectedQuizzes.length)return void alert("선택 퀴즈가 없습니다.");if(!confirm(`선택한 ${this.selectedQuizzes.length}개의 퀴즈를 추가하시겠습니까?`))return;const e=localStorage.getItem("jwtToken"),t=Number(localStorage.getItem("memberId"));try{for(const a of this.selectedQuizzes){const i={quizId:a.quizId,gameId:this.currentGameId,isStopped:0};await O.A.post(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/teacher-quizzes/member/${t}`,i,{headers:{Authorization:`Bearer ${e}`}})}await this.fetchMyGames(),this.closeQuizModal(),alert("선택한 퀴즈가 성공적으로 추가되었습니다.")}catch(a){console.error("퀴즈 추가 실패:",a),alert("퀴즈 추가에 실패했습니다.")}},closeQuizModal(){this.showQuizModal=!1,this.searchKeyword="",this.selectedQuizzes=[]},toggleQuizSelection(e){const t=this.selectedQuizzes.findIndex((t=>t.quizId===e.quizId));-1===t?this.selectedQuizzes.push(e):this.selectedQuizzes.splice(t,1)},async showQuizListModal(e){const t=localStorage.getItem("jwtToken"),a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;try{const i=await O.A.get(`${a}/api/v1/teacher-quizzes/game/${e.gameId}`,{headers:{Authorization:`Bearer ${t}`}});console.log("TeacherQuiz 응답:",i.data);const r=await Promise.all(i.data.map((async e=>{try{const i=await O.A.get(`${a}/api/v1/quizs/${e.quizId}`,{headers:{Authorization:`Bearer ${t}`}}),r=i.data;return console.log("퀴즈 정보:",r),{teacherQuizId:e.teacherQuizId,quizId:e.quizId,gameId:e.gameId,isStopped:e.isStopped,quizTitle:r.quiz,quizCategory:r.category,quizLevel:r.level,quizType:r.type,quizAnswer:r.answer,quizDescription:r.desc,nickname:e.memberNickname,createdAt:r.createdAt||(new Date).toISOString()}}catch(i){return console.error(`퀴즈 정보 조회 실패 (ID: ${e.quizId}):`,i),null}})));this.currentGameQuizzes=r.filter((e=>null!==e)),this.currentGame=e,this.showQuizListModalFlag=!0}catch(i){console.error("퀴즈 목록 조회 실패:",i),alert("퀴즈 목록을 불러오는데 실패했습니다.")}},closeQuizListModal(){this.showQuizListModalFlag=!1,this.selectedCurrentQuizzes=[],this.currentGame=null,this.quizListSearchType="all",this.quizListSearchKeyword=""},toggleCurrentQuizSelection(e){const t=this.selectedCurrentQuizzes.findIndex((t=>t.quizId===e.quizId));-1===t?this.selectedCurrentQuizzes.push(e):this.selectedCurrentQuizzes.splice(t,1)},toggleSelectAllCurrentQuizzes(){this.selectAllCurrentQuizzes=!this.selectAllCurrentQuizzes},async removeSelectedQuizzes(){if(!this.selectedCurrentQuizzes.length)return void alert("선택된 퀴즈가 없습니다.");if(!confirm(`선택한 ${this.selectedCurrentQuizzes.length}개의 퀴즈를 삭제하시겠습니까?`))return;const e=localStorage.getItem("jwtToken");try{for(const t of this.selectedCurrentQuizzes)await O.A.delete(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL}/api/v1/teacher-quizzes/quiz/${t.teacherQuizId}`,{headers:{Authorization:`Bearer ${e}`}});await this.showQuizListModal(this.currentGame),this.selectedCurrentQuizzes=[],alert("선택한 퀴즈가 성적으로 삭제었습니다.")}catch(t){console.error("퀴즈 삭제 실패:",t),alert("퀴즈 삭제에 실패했습니다.")}},handleQuizListSearch(){},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevQuizListPage(){this.quizListCurrentPage>1&&this.quizListCurrentPage--},nextQuizListPage(){this.quizListCurrentPage<this.quizListTotalPages&&this.quizListCurrentPage++},async fetchAvailableQuizzes(e,t){try{const a=await O.A.get(`/api/v1/teacher-quizzes/member/${e}/game/${t}`);this.availableQuizzes=a.data}catch(a){console.error("퀴즈 목록 조회 실패:",a)}},async fetchCurrentGameQuizzes(){const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;try{const a=await O.A.get(`${t}/api/v1/teacher-quizzes/game/${this.currentGameId}`,{headers:{Authorization:`Bearer ${e}`}});this.currentGameQuizzes=a.data}catch(a){console.error("현재 게임의 퀴즈 목록 조회 실패:",a)}}},mounted(){this.fetchMyGames()}};const Da=(0,l.A)(Ta,[["render",Ua],["__scopeId","data-v-4b9f1af6"]]);var Na=Da;const Fa={class:"home-page"},Va={class:"content"},Ba={class:"forum-board"},Ra={class:"search-area"},Xa={class:"total-count"},xa={class:"search-container"},Ka={class:"table-container"},Oa={class:"forum-table"},ja=["onClick"],Ma={class:"id-cell"},Ga={class:"title-cell"},Ha={class:"author-cell"},Ja={class:"date-cell"},Wa={key:1,class:"empty-row"},Ya={class:"pagination-container"},Za={class:"pagination-wrapper"},ei=["disabled"],ti={class:"page-numbers"},ai=["onClick"],ii=["disabled"];function ri(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",Fa,[(0,r.bF)(l),(0,r.Lk)("div",Va,[(0,r.Lk)("div",Ba,[(0,r.Lk)("div",Ra,[(0,r.Lk)("div",Xa,"전체 "+(0,$.v_)(s.filteredList.length)+"건",1),(0,r.Lk)("div",xa,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchType=e),class:"search-select"},t[7]||(t[7]=[(0,r.Lk)("option",{value:"all"},"전체",-1),(0,r.Lk)("option",{value:"title"},"제목",-1),(0,r.Lk)("option",{value:"author"},"작성자",-1)]),512),[[i.u1,n.searchType]]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchKeyword=e),class:"search-input",placeholder:"검색어를 입력하세요",onKeyup:t[2]||(t[2]=(0,i.jR)(((...e)=>s.handleSearch&&s.handleSearch(...e)),["enter"]))},null,544),[[i.Jo,n.searchKeyword]]),(0,r.Lk)("button",{class:"search-button",onClick:t[3]||(t[3]=(...e)=>s.handleSearch&&s.handleSearch(...e))},"검색")])]),(0,r.Lk)("div",Ka,[(0,r.Lk)("table",Oa,[t[9]||(t[9]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"column-10"},"번호"),(0,r.Lk)("th",{class:"column-50"},"제목"),(0,r.Lk)("th",{class:"column-20"},"작성자"),(0,r.Lk)("th",{class:"column-20"},"작성일")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.itemsPerPage,(e=>((0,r.uX)(),(0,r.CE)(r.FK,{key:e},[s.paginatedArticles[e-1]?((0,r.uX)(),(0,r.CE)("tr",{key:0,onClick:t=>s.viewArticle(s.paginatedArticles[e-1].articleId),class:"article-row"},[(0,r.Lk)("td",Ma,(0,$.v_)(s.paginatedArticles[e-1].articleId),1),(0,r.Lk)("td",Ga,(0,$.v_)(s.paginatedArticles[e-1].articleTitle),1),(0,r.Lk)("td",Ha,(0,$.v_)(s.paginatedArticles[e-1].memberNickname),1),(0,r.Lk)("td",Ja,(0,$.v_)(s.formatDate(s.paginatedArticles[e-1].createdAt)),1)],8,ja)):((0,r.uX)(),(0,r.CE)("tr",Wa,t[8]||(t[8]=[(0,r.Lk)("td",{colspan:"4"}," ",-1)])))],64)))),128))])]),(0,r.Lk)("div",Ya,[t[10]||(t[10]=(0,r.Lk)("div",{class:"dummy-button"},"글쓰기",-1)),(0,r.Lk)("div",Za,[(0,r.Lk)("button",{class:"nav-btn prev",onClick:t[4]||(t[4]=(...e)=>s.prevPage&&s.prevPage(...e)),disabled:1===n.currentPage}," < ",8,ei),(0,r.Lk)("div",ti,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.getDisplayedPages(),(e=>((0,r.uX)(),(0,r.CE)("button",{key:e,class:(0,$.C4)(["page-num",{active:n.currentPage===e}]),onClick:t=>s.goToPage(e)},(0,$.v_)(e),11,ai)))),128))]),(0,r.Lk)("button",{class:"nav-btn next",onClick:t[5]||(t[5]=(...e)=>s.nextPage&&s.nextPage(...e)),disabled:n.currentPage===s.totalPages}," > ",8,ii)]),(0,r.Lk)("button",{class:"write-button",onClick:t[6]||(t[6]=t=>e.$router.push("/articleform"))}," 글쓰기 ")])])])]),(0,r.bF)(c)])}var oi={name:"GeneralForum",components:{AppHeader:A,AppFooter:E},data(){return{articles:[],currentPage:1,itemsPerPage:10,searchType:"all",searchKeyword:""}},computed:{filteredList(){return this.searchKeyword?this.articles.filter((e=>{const t=this.searchKeyword.toLowerCase();switch(this.searchType){case"title":return e.articleTitle.toLowerCase().includes(t);case"author":return e.memberNickname.toLowerCase().includes(t);case"all":return e.articleTitle.toLowerCase().includes(t)||e.memberNickname.toLowerCase().includes(t);default:return!0}})):this.articles},paginatedArticles(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredList.slice(e,t)},totalPages(){return Math.ceil(this.filteredList.length/this.itemsPerPage)}},methods:{async fetchArticles(){try{const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=await O.A.get(t+"/api/v1/articles",{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});this.articles=a.data.sort(((e,t)=>t.articleId-e.articleId))}catch(e){console.error("Failed to fetch articles:",e),alert("게시글을 불러오는데 실패했습니다.")}},viewArticle(e){this.$router.push(`/articles/${e}`)},formatDate(e){if(!e||!Array.isArray(e))return"";try{const t=e[0],a=String(e[1]).padStart(2,"0"),i=String(e[2]).padStart(2,"0");return`${t}-${a}-${i}`}catch(t){return console.error("Date formatting error:",t),""}},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--},goToPage(e){this.currentPage=e},getDisplayedPages(){const e=this.totalPages,t=this.currentPage;return e<=5?Array.from({length:e},((e,t)=>t+1)):t<=3?[1,2,3,4,5]:t>=e-2?[e-4,e-3,e-2,e-1,e]:[t-2,t-1,t,t+1,t+2]},handleSearch(){this.currentPage=1}},watch:{searchType(){this.currentPage=1}},mounted(){this.fetchArticles()}};const ni=(0,l.A)(oi,[["render",ri],["__scopeId","data-v-391a6134"]]);var si=ni;const li={class:"article-detail-page"},ci={class:"content"},ui={class:"article-container"},di={class:"article-header"},mi={class:"article-title"},hi={class:"article-info"},pi={class:"author"},gi={class:"date"},Li={class:"article-content"},ki={class:"comments-section"},zi={class:"comment-form"},vi={class:"comment-form-footer"},bi={class:"char-count"},Ci={class:"comments-list"},yi={class:"comment-header"},fi={class:"comment-left"},Ai={class:"comment-author"},qi={class:"comment-right"},wi={class:"comment-date"},_i={key:0,class:"edited-mark"},Pi={key:0,class:"comment-actions"},Ei=["onClick"],Ii=["onClick"],Si={key:0,class:"edit-form"},Qi=["onUpdate:modelValue"],$i={class:"edit-form-footer"},Ui={class:"char-count"},Ti={class:"edit-buttons"},Di=["onClick"],Ni=["onClick"],Fi={key:1,class:"comment-content"},Vi={class:"button-group"},Bi={key:0,class:"author-buttons"};function Ri(e,t,a,o,n,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",li,[(0,r.bF)(l),(0,r.Lk)("div",ci,[(0,r.Lk)("div",ui,[(0,r.Lk)("div",di,[(0,r.Lk)("h1",mi,(0,$.v_)("제목 : "+n.article.articleTitle),1),(0,r.Lk)("div",hi,[(0,r.Lk)("span",pi,"작성자: "+(0,$.v_)(n.article.memberNickname),1),(0,r.Lk)("span",gi,"작성일: "+(0,$.v_)(s.formatDate(n.article.createdAt)),1)])]),(0,r.Lk)("div",Li,(0,$.v_)(n.article.articleContents),1),(0,r.Lk)("div",ki,[t[5]||(t[5]=(0,r.Lk)("h3",null,"댓글",-1)),(0,r.Lk)("div",zi,[(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.newComment=e),placeholder:"댓글을 작성해주세요",rows:"3",maxlength:"500"},null,512),[[i.Jo,n.newComment]]),(0,r.Lk)("div",vi,[(0,r.Lk)("span",bi,(0,$.v_)(n.newComment.length)+"/500자",1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.submitComment&&s.submitComment(...e)),class:"comment-submit"},"댓글 작성")])]),(0,r.Lk)("div",Ci,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.comments,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.articleCommentId,class:"comment"},[(0,r.Lk)("div",yi,[(0,r.Lk)("div",fi,[(0,r.Lk)("span",Ai,"작성자: "+(0,$.v_)(e.memberNickname),1)]),(0,r.Lk)("div",qi,[(0,r.Lk)("span",wi,[(0,r.eW)((0,$.v_)(s.formatDate(e.articleCommentCreatedAt))+" ",1),e.articleCommentUpdatedAt?((0,r.uX)(),(0,r.CE)("span",_i,"(수정됨)")):(0,r.Q3)("",!0)]),s.isCurrentUserComment(e.memberNickname)?((0,r.uX)(),(0,r.CE)("div",Pi,[e.isEditing?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t=>s.startEditing(e),class:"edit-btn"}," 수정 ",8,Ei)),(0,r.Lk)("button",{onClick:t=>s.deleteComment(e.articleCommentId),class:"delete-btn"}," 삭제 ",8,Ii)])):(0,r.Q3)("",!0)])]),e.isEditing?((0,r.uX)(),(0,r.CE)("div",Si,[(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t=>e.editContent=t,rows:"3",maxlength:"500"},null,8,Qi),[[i.Jo,e.editContent]]),(0,r.Lk)("div",$i,[(0,r.Lk)("span",Ui,(0,$.v_)(e.editContent.length)+"/500자",1),(0,r.Lk)("div",Ti,[(0,r.Lk)("button",{onClick:t=>s.saveEdit(e),class:"save-btn"},"저장",8,Di),(0,r.Lk)("button",{onClick:t=>s.cancelEdit(e),class:"cancel-btn"},"취소",8,Ni)])])])):((0,r.uX)(),(0,r.CE)("p",Fi,(0,$.v_)(e.articleCommentContent),1))])))),128))])]),(0,r.Lk)("div",Vi,[(0,r.Lk)("button",{class:"list-button",onClick:t[2]||(t[2]=(...e)=>s.goToList&&s.goToList(...e))},"목록"),n.isAuthor?((0,r.uX)(),(0,r.CE)("div",Bi,[(0,r.Lk)("button",{class:"edit-button",onClick:t[3]||(t[3]=(...e)=>s.editArticle&&s.editArticle(...e))},"수정"),(0,r.Lk)("button",{class:"delete-button",onClick:t[4]||(t[4]=(...e)=>s.deleteArticle&&s.deleteArticle(...e))},"삭제")])):(0,r.Q3)("",!0)])])]),(0,r.bF)(c)])}var Xi={name:"ArticleDetail",components:{AppHeader:A,AppFooter:E},data(){return{article:{articleId:null,memberNickname:"",articleTitle:"",articleContents:"",createdAt:null},isAuthor:!1,newComment:"",currentUserNickname:"",comments:[]}},methods:{async fetchArticle(){try{const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,i=await O.A.get(`${t}/api/v1/articles/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});this.article=i.data}catch(e){console.error("Failed to fetch article:",e),alert("게시글을 불러오는데 실패했습니다.")}},formatDate(e){if(!e||!Array.isArray(e))return"";try{const t=e[0],a=String(e[1]).padStart(2,"0"),i=String(e[2]).padStart(2,"0"),r=String(e[3]).padStart(2,"0"),o=String(e[4]).padStart(2,"0");return`${t}-${a}-${i} ${r}:${o}`}catch(t){return console.error("Date formatting error:",t),""}},goToList(){this.$router.push("/articles")},editArticle(){this.$router.push(`/articles/${this.article.articleId}/edit`)},async deleteArticle(){if(confirm("정말로 삭제하시겠습니까?"))try{const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await O.A.delete(`${t}/api/v1/articles/${this.article.articleId}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),alert("게시글이 삭제되었습니다."),this.$router.push("/articles")}catch(e){console.error("Failed to delete article:",e),alert("게시글 삭제에 실패했습니다.")}},isCurrentUserComment(e){return this.currentUserNickname===e},async submitComment(){if(!this.newComment.trim())return void alert("댓글 내용을 입력해주세요.");const e=localStorage.getItem("jwtToken");if(!e)return alert("로그인이 필요합니다."),void this.$router.push("/login");try{const t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,i={articleId:parseInt(a),articleCommentContent:this.newComment,articleCommentCreatedAt:(new Date).toISOString()};await O.A.post(`${t}/api/v1/article-comments`,i,{headers:{Authorization:`Bearer ${e}`}}),this.newComment="",await this.fetchComments()}catch(t){console.error("댓글 작성 실패:",t),alert("댓글 작성에 실패했습니다.")}},startEditing(e){e.isEditing=!0,e.editContent=e.articleCommentContent},async saveEdit(e){if(!e.editContent.trim())return void alert("댓글 내용을 력해주세요.");const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await O.A.patch(`${a}/api/v1/article-comments/${e.articleCommentId}`,{articleCommentContent:e.editContent},{headers:{Authorization:`Bearer ${t}`}}),e.isEditing=!1,await this.fetchComments()}catch(a){console.error("댓글 수정 실패:",a),alert("댓글 수정에 실패했습니다.")}},cancelEdit(e){e.isEditing=!1,e.editContent=e.articleCommentContent},async deleteComment(e){if(!confirm("댓글을 삭제하시겠습니까?"))return;const t=localStorage.getItem("jwtToken");if(t)try{const a={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL;await O.A.delete(`${a}/api/v1/article-comments/${e}`,{headers:{Authorization:`Bearer ${t}`}}),await this.fetchComments()}catch(a){console.error("댓글 삭제 실패:",a),alert("댓글 삭제에 실패했습니다.")}},async fetchComments(){try{const e=localStorage.getItem("jwtToken"),t={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BE_API_URL,a=this.$route.params.id,i=await O.A.get(`${t}/api/v1/article-comments`,{params:{articleId:a},headers:{Authorization:`Bearer ${e}`}});this.comments=i.data.map((e=>({...e,isEditing:!1,editContent:e.articleCommentContent})))}catch(e){console.error("댓글 조회 실패:",e)}}},async mounted(){this.currentUserNickname=localStorage.getItem("memberNickname"),await this.fetchArticle(),await this.fetchComments()}};const xi=(0,l.A)(Xi,[["render",Ri],["__scopeId","data-v-5ac172f4"]]);var Ki=xi;const Oi=[{path:"/",name:"Home",component:Q},{path:"/quizform",name:"QuizForm",component:G},{path:"/quizboard",name:"QuizBoard",component:qe},{path:"/quiz/:id",name:"QuizDetail",component:lt},{path:"/login",name:"Login",component:bt},{path:"/signup",name:"SignUp",component:Dt},{path:"/articleform",name:"ArticleForm",component:Kt},{path:"/mypage",name:"MyPage",component:Na},{path:"/articles",name:"Articles",component:si},{path:"/articles/:id",name:"ArticleDetail",component:Ki}],ji=(0,d.aE)({history:(0,d.LA)(),routes:Oi});var Mi=ji;(0,i.Ef)(u).use(Mi).mount("#app")}},t={};function a(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,i,r,o){if(!i){var n=1/0;for(u=0;u<e.length;u++){i=e[u][0],r=e[u][1],o=e[u][2];for(var s=!0,l=0;l<i.length;l++)(!1&o||n>=o)&&Object.keys(a.O).every((function(e){return a.O[e](i[l])}))?i.splice(l--,1):(s=!1,o<n&&(n=o));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,n=i[0],s=i[1],l=i[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var u=l(a)}for(t&&t(i);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},i=self["webpackChunkdon"]=self["webpackChunkdon"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(563)}));i=a.O(i)})();
//# sourceMappingURL=app.642f343b.js.map